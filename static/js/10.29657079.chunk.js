(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[10],{607:function(e,t,n){"use strict";var r=n(11);n(5);t.a=function(e){return e.loading?Object(r.jsx)("span",{className:"spinner-border spinner-border-sm"}):e.iconClass?Object(r.jsx)("i",{className:e.iconClass}):null}},608:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(15),a=n(16),o=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"errorMessage",value:function(e,t,n,r){var a,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(o)return o;if(!r&&!n[e])return null;var i=t[e];return(null===i||void 0===i||null===(a=i[0])||void 0===a?void 0:a.message)||(null===i||void 0===i?void 0:i.message)||i||null}}]),e}()},609:function(e,t,n){"use strict";var r=n(127);function a(){var e=Object(r.a)(["\n  margin-top: 16px;\n  padding: 24px;\n  background-color: white;\n  width: 100%;\n  border-radius: 5px;\n  border: 1px solid #dee2e6 !important;\n"]);return a=function(){return e},e}var o=n(128).a.div(a());t.a=o},610:function(e,t,n){"use strict";var r=n(127);function a(){var e=Object(r.a)(["\n  margin-bottom: 24px;\n"]);return a=function(){return e},e}var o=n(128).a.h1(a());t.a=o},611:function(e,t,n){"use strict";var r=n(127),a=n(11),o=(n(5),n(85));function i(){var e=Object(r.a)(["\n  .breadcrumb {\n    font-size: 13px;\n    margin: 0px;\n    padding: 0px;\n    background-color: transparent;\n  }\n\n  .breadcrumb-item:not(.active) a {\n    color: rgba(0, 0, 0, 0.45);\n  }\n"]);return i=function(){return e},e}var c=n(128).a.nav(i());t.a=function(e){var t=function(e){return e.length>1};return Object(a.jsx)(c,{children:Object(a.jsx)("ol",{className:"breadcrumb",children:e.items.map((function(n,r){return Object(a.jsx)("li",{className:"breadcrumb-item ".concat(e.items.length-1===r?"active":""),children:t(n)?Object(a.jsx)(o.a,{to:n[1],children:n[0]}):n[0]},n[0])}))})})}},612:function(e,t,n){"use strict";var r=n(11);n(5);t.a=function(){return Object(r.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:Object(r.jsx)("div",{className:"spinner-border text-primary"})})}},613:function(e,t,n){"use strict";var r=n(11),a=(n(5),n(606)),o=n(608);function i(e){var t=e.defaultValue,n=e.label,i=e.name,c=e.hint,u=e.type,s=e.placeholder,l=e.autoFocus,d=e.autoComplete,f=e.required,m=e.externalErrorMessage,b=e.disabled,p=e.endAdornment,j=Object(a.d)(),v=j.register,h=j.errors,O=j.formState,x=O.touched,g=O.isSubmitted,y=o.a.errorMessage(i,h,x,g,m);return Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsxs)("div",{className:p?"input-group":"",children:[Boolean(n)&&Object(r.jsx)("label",{className:"col-form-label ".concat(f?"required":null),htmlFor:i,children:n}),Object(r.jsx)("input",{value:t,id:i,name:i,type:u,ref:v,onChange:function(t){e.onChange&&e.onChange(t.target.value)},onBlur:function(t){e.onBlur&&e.onBlur(t)},placeholder:s||void 0,autoFocus:l||void 0,autoComplete:d||void 0,disabled:b,className:"form-control ".concat(y?"is-invalid":"")}),p&&Object(r.jsx)("div",{className:"input-group-append",children:Object(r.jsx)("span",{className:"input-group-text",children:p})})]}),Object(r.jsx)("div",{className:"invalid-feedback",children:y}),Boolean(c)&&Object(r.jsx)("small",{className:"form-text text-muted",children:c})]})}i.defaultProps={type:"text",required:!1},t.a=i},614:function(e,t,n){"use strict";var r=n(25),a=n(30),o=n(36),i=n.n(o),c=n(5),u=n.n(c),s=n(37),l=["bsPrefix","className","noGutters","as"],d=["xl","lg","md","sm","xs"],f=u.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,c=e.noGutters,f=e.as,m=void 0===f?"div":f,b=Object(a.a)(e,l),p=Object(s.a)(n,"row"),j=p+"-cols",v=[];return d.forEach((function(e){var t,n=b[e];delete b[e];var r="xs"!==e?"-"+e:"";null!=(t=null!=n&&"object"===typeof n?n.cols:n)&&v.push(""+j+r+"-"+t)})),u.a.createElement(m,Object(r.a)({ref:t},b,{className:i.a.apply(void 0,[o,p,c&&"no-gutters"].concat(v))}))}));f.displayName="Row",f.defaultProps={noGutters:!1},t.a=f},615:function(e,t,n){"use strict";var r=n(25),a=n(30),o=n(36),i=n.n(o),c=n(5),u=n.n(c),s=n(37),l=["bsPrefix","className","as"],d=["xl","lg","md","sm","xs"],f=u.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,c=e.as,f=void 0===c?"div":c,m=Object(a.a)(e,l),b=Object(s.a)(n,"col"),p=[],j=[];return d.forEach((function(e){var t,n,r,a=m[e];if(delete m[e],"object"===typeof a&&null!=a){var o=a.span;t=void 0===o||o,n=a.offset,r=a.order}else t=a;var i="xs"!==e?"-"+e:"";t&&p.push(!0===t?""+b+i:""+b+i+"-"+t),null!=r&&j.push("order"+i+"-"+r),null!=n&&j.push("offset"+i+"-"+n)})),p.length||p.push(b),u.a.createElement(f,Object(r.a)({},m,{ref:t,className:i.a.apply(void 0,[o].concat(p,j))}))}));f.displayName="Col",t.a=f},616:function(e,t,n){"use strict";var r=n(19),a=n(39),o=n(2),i=n(55),c=n.n(i),u={generic:e=>a.c().label(e),string(e,t){t=t||{};var n=a.h().transform((function(e,t){return""===t?null:e})).nullable(!0).trim().label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),t.matches&&(n=n.matches(t.matches)),n},boolean:(e,t)=>a.b().default(!1).label(e),relationToOne(e,t){t=t||{};var n=a.c().nullable(!0).label(e).transform((function(e,t){return t?t.id:null}));return t.required&&(n=n.required()),n},stringArray(e,t){t=t||{};var n=a.a().compact().ensure().of(a.h().transform((function(e,t){return""===t?null:e})).trim()).label(e);return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},relationToMany(e,t){t=t||{};var n=a.a().nullable(!0).label(e).transform((function(e,t){return t&&t.length?t.map((function(e){return e.id})):[]}));return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},integer(e,t){t=t||{};var n=a.d().transform((function(e,t){return""===t?null:e})).integer().nullable(!0).label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),n},images(e,t){t=t||{};var n=a.a().nullable(!0).label(e);return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},files(e,t){t=t||{};var n=a.a().compact().ensure().nullable(!0).label(e);return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},enumerator(e,t){t=t||{};var n=a.h().transform((function(e,t){return""===t?null:e})).label(e).nullable(!0).oneOf([null].concat(Object(r.a)(t.options||[])));return t.required&&(n=n.required(Object(o.c)("validation.string.selected"))),n},email(e,t){t=t||{};var n=a.h().transform((function(e,t){return""===t?null:e})).nullable(!0).trim().label(e).email();return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),t.matches&&(n=n.matches(t.matches)),n},decimal(e,t){t=t||{};var n=a.d().transform((function(e,t){return""===t?null:e})).nullable(!0).label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),n},datetime(e,t){t=t||{};var n=a.c().nullable(!0).label(e).transform((function(e,t){return e?c()(t,"YYYY-MM-DD HH:mm").toISOString():null}));return t.required&&(n=n.required()),n},date(e,t){t=t||{};var n=a.c().nullable(!0).label(e).test("is-date",Object(o.c)("validation.mixed.default"),(function(e){return!e||c()(e,"YYYY-MM-DD").isValid()})).transform((function(e){return e?c()(e).format("YYYY-MM-DD"):null}));return t.required&&(n=n.required()),n}};t.a=u},620:function(e,t,n){"use strict";var r=n(127);function a(){var e=Object(r.a)(["\n  padding-top: 0;\n  padding-bottom: 0;\n\n  label.required::before {\n    display: inline-block;\n    margin-right: 4px;\n    content: '*';\n    line-height: 1;\n    font-size: 13px;\n    color: #f5222d;\n  }\n\n  .react-datepicker-wrapper {\n    width: 100%;\n  }\n\n  .react-datepicker-popper{\n    margin-top: 50px !important;\n  }\n\n  .custom-control {\n    z-index: 0;\n  }\n\n  .invalid-feedback {\n    display: block;\n  }\n\n  .form-buttons {\n    padding-top: 16px;\n\n    .btn {\n      margin-right: 8px;\n      margin-bottom: 8px;\n    }\n  }\n"]);return a=function(){return e},e}var o=n(128).a.div(a());t.a=o},623:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(145),a=n(1),o=n.n(a),i=n(3),c=n(15),u=n(16),s=n(625),l=n.n(s),d=n(2),f=n(9),m=n(664),b=n(8),p=n(262),j=n.n(p),v=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"validate",value:function(e,t){if(t){if(t.image&&!e.type.startsWith("image"))throw new Error(Object(d.c)("fileUploader.image"));if(t.storage.maxSizeInBytes&&e.size>t.storage.maxSizeInBytes)throw new Error(Object(d.c)("fileUploader.size",l()(t.storage.maxSizeInBytes)));var n=h(e.name);if(t.formats&&!t.formats.includes(n))throw new Error(Object(d.c)("fileUploader.formats",t.formats.join(", ")))}}},{key:"upload",value:function(){var e=Object(i.a)(o.a.mark((function e(t,n){var r,a,i,c,u,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,this.validate(t,n),e.next=7;break;case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 7:return r=h(t.name),a=Object(m.a)(),i="".concat(a,".").concat(r),e.next=12,this.fetchFileCredentials(i,n);case 12:return c=e.sent,u=c.uploadCredentials,s=c.downloadUrl,l=c.privateUrl,e.next=18,this.uploadToServer(t,u);case 18:return e.abrupt("return",{id:a,name:t.name,sizeInBytes:t.size,publicUrl:u&&u.publicUrl?u.publicUrl:null,privateUrl:l,downloadUrl:s,new:!0});case 19:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchFileCredentials",value:function(){var e=Object(i.a)(o.a.mark((function e(t,n){var r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b.a.get(),e.next=3,f.a.get("/tenant/".concat(r,"/file/credentials"),{params:{filename:t,storageId:n.storage.id}});case 3:return a=e.sent,i=a.data,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"uploadToServer",value:function(){var e=Object(i.a)(o.a.mark((function e(t,n){var a,i,c,u,s,l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,a=n.url,i=new FormData,c=0,u=Object.entries(n.fields||{});c<u.length;c++)s=Object(r.a)(u[c],2),l=s[0],d=s[1],i.append(l,d);return i.append("file",t),e.abrupt("return",j.a.post(a,i,{headers:{"Content-Type":"multipart/form-data"}}));case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function h(e){if(!e)return null;var t=/(?:\.([^.]+))?$/.exec(e);return t?t[1]:null}},624:function(e,t,n){"use strict";var r=n(0),a=n(19),o=n(1),i=n.n(o),c=n(3),u=n(145),s=n(11),l=n(5),d=n(608),f=n(628),m=n(2),b=n(606),p=n(646),j=n.n(p);function v(e){var t=Object(b.d)(),n=t.errors,o=t.watch,p=t.setValue,v=t.register,h=t.formState,O=h.touched,x=h.isSubmitted,g=e.label,y=e.name,C=e.hint,w=e.placeholder,N=e.autoFocus,M=e.externalErrorMessage,S=e.mode,q=e.required,k=e.isClearable,B=e.mapper,E=e.fetchFn,P=o(y),T=Object(l.useState)([]),V=Object(u.a)(T,2),R=V[0],U=V[1],L=Object(l.useState)(!1),I=Object(u.a)(L,2),A=I[0],F=I[1];Object(l.useEffect)((function(){v({name:y})}),[v,y]),Object(l.useEffect)((function(){(function(){var e=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.prev=1,e.next=4,E();case 4:t=(t=e.sent).map((function(e){return B.toAutocomplete(e)})),U(t),F(!1),e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(1),console.error(e.t0),U([]),F(!1),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}})()().then((function(){}))}),[]);var Y=function(e){return(R||[]).find((function(t){return t.value===e.value}))||e},z=function(){return"multiple"===S?D():_()},D=function(){return P?P.map((function(e){return Y(B.toAutocomplete(e))})):[]},_=function(){return P?Y(B.toAutocomplete(P)):null},$=function(t){if(!t)return p(y,[],{shouldValidate:!0}),void(e.onChange&&e.onChange([]));var n=t.map((function(e){return B.toValue(e)}));p(y,n,{shouldValidate:!0}),e.onChange&&e.onChange(n)},G=function(t){if(!t)return p(y,null,{shouldValidate:!0}),void(e.onChange&&e.onChange(null));var n=B.toValue(t);p(y,n,{shouldValidate:!0}),e.onChange&&e.onChange(n)},K=A?Object(m.c)("autocomplete.loading"):C,Z=d.a.errorMessage(y,n,O,x,M),H=Boolean(Z)?{control:function(e){return Object(r.a)(Object(r.a)({},e),{},{borderColor:"red"})}}:void 0;return Object(s.jsxs)("div",{className:"form-group",children:[Boolean(g)&&Object(s.jsx)("label",{className:"col-form-label ".concat(q?"required":null),htmlFor:y,children:g}),Object(s.jsxs)("div",{style:{display:"flex"},children:[Object(s.jsx)(f.a,{className:"w-100",styles:H,id:y,name:y,isMulti:"multiple"===S,placeholder:w||"",autoFocus:N||void 0,onChange:function(e){return"multiple"===S?$(e):G(e)},value:z(),isClearable:k,options:function(){var t=e.mode;return R?z()?"multiple"===t?j()([].concat(Object(a.a)(R),Object(a.a)(z())),"value"):j()([].concat(Object(a.a)(R),[z()]),"value"):R:[]}(),onBlur:function(t){e.onBlur&&e.onBlur(t)},loadingMessage:function(){return Object(m.c)("autocomplete.loading")},noOptionsMessage:function(){return Object(m.c)("autocomplete.noOptions")}}),e.showCreate&&e.hasPermissionToCreate?Object(s.jsx)("button",{style:{marginLeft:"16px",flexShrink:0},className:"btn btn-primary",type:"button",onClick:e.onOpenModal,children:Object(s.jsx)("i",{className:"fas fa-plus"})}):null]}),Object(s.jsx)("div",{className:"invalid-feedback",children:Z}),Boolean(K)&&Object(s.jsx)("small",{className:"form-text text-muted",children:K})]})}v.defaultProps={isClearable:!0,mode:"default",required:!1},t.a=v},625:function(e,t,n){"use strict";(function(t){!function(t){var n=/^(b|B)$/,r={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},a={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]};function o(e){var t,o,i,c,u,s,l,d,f,m,b,p,j,v,h,O=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},x=[],g=0,y=void 0,C=void 0;if(isNaN(e))throw new TypeError("Invalid number");return o=!0===O.bits,b=!0===O.unix,t=O.base||2,m=void 0!==O.round?O.round:b?1:2,s=void 0!==O.locale?O.locale:"",l=O.localeOptions||{},p=void 0!==O.separator?O.separator:"",j=void 0!==O.spacer?O.spacer:b?"":" ",h=O.symbols||{},v=2===t&&O.standard||"jedec",f=O.output||"string",c=!0===O.fullform,u=O.fullforms instanceof Array?O.fullforms:[],y=void 0!==O.exponent?O.exponent:-1,i=2<t?1e3:1024,(d=(C=Number(e))<0)&&(C=-C),(-1===y||isNaN(y))&&(y=Math.floor(Math.log(C)/Math.log(i)))<0&&(y=0),8<y&&(y=8),"exponent"===f?y:(0===C?(x[0]=0,x[1]=b?"":r[v][o?"bits":"bytes"][y]):(g=C/(2===t?Math.pow(2,10*y):Math.pow(1e3,y)),o&&i<=(g*=8)&&y<8&&(g/=i,y++),x[0]=Number(g.toFixed(0<y?m:0)),x[0]===i&&y<8&&void 0===O.exponent&&(x[0]=1,y++),x[1]=10===t&&1===y?o?"kb":"kB":r[v][o?"bits":"bytes"][y],b&&(x[1]="jedec"===v?x[1].charAt(0):0<y?x[1].replace(/B$/,""):x[1],n.test(x[1])&&(x[0]=Math.floor(x[0]),x[1]=""))),d&&(x[0]=-x[0]),x[1]=h[x[1]]||x[1],!0===s?x[0]=x[0].toLocaleString():0<s.length?x[0]=x[0].toLocaleString(s,l):0<p.length&&(x[0]=x[0].toString().replace(".",p)),"array"===f?x:(c&&(x[1]=u[y]?u[y]:a[v][y]+(o?"bit":"byte")+(1===x[0]?"":"s")),"object"===f?{value:x[0],symbol:x[1],exponent:y}:x.join(j)))}o.partial=function(e){return function(t){return o(t,e)}},e.exports=o}("undefined"!=typeof window&&window)}).call(this,n(86))},626:function(e,t,n){"use strict";var r=n(0),a=n(11),o=n(5),i=n(628),c=n(2),u=n(606),s=n(608);function l(e){var t=e.label,n=e.name,l=e.hint,d=e.options,f=e.required,m=e.mode,b=e.placeholder,p=e.isClearable,j=e.externalErrorMessage,v=Object(u.d)(),h=v.register,O=v.errors,x=v.formState,g=x.touched,y=x.isSubmitted,C=v.setValue,w=v.watch,N=s.a.errorMessage(n,O,g,y,j),M=w(n);Object(o.useEffect)((function(){h({name:n})}),[h,n]);var S=function(){return M?M.map((function(e){return d.find((function(t){return t.value===e}))})):[]},q=function(){var t=e.options;return null!=M?t.find((function(e){return e.value===M})):null},k=function(t){if(!t)return C(n,[],{shouldValidate:!0}),void(e.onChange&&e.onChange([]));var r=t.map((function(e){return e?e.value:e})).filter((function(e){return null!=e}));C(n,r,{shouldValidate:!0}),e.onChange&&e.onChange(r)},B=function(t){if(!t)return C(n,null,{shouldValidate:!0}),void(e.onChange&&e.onChange(null));C(n,t.value,{shouldValidate:!0}),e.onChange&&e.onChange(t.value)},E=Boolean(N)?{container:function(e){return Object(r.a)(Object(r.a)({},e),{},{color:"hsl(0,0%,20%)"})},control:function(e){return Object(r.a)(Object(r.a)({},e),{},{borderColor:"red"})}}:{container:function(e){return Object(r.a)(Object(r.a)({},e),{},{color:"hsl(0,0%,20%)"})}};return Object(a.jsxs)("div",{className:"form-group",children:[Boolean(t)&&Object(a.jsx)("label",{className:"col-form-label ".concat(f?"required":null),children:t}),Object(a.jsx)("br",{}),Object(a.jsx)(i.a,{className:"w-100",value:"multiple"===e.mode?S():q(),onChange:function(t){return"multiple"===e.mode?k(t):B(t)},onBlur:function(t){e.onBlur&&e.onBlur(t)},id:n,name:n,options:d,isMulti:"multiple"===m,placeholder:b||"",isClearable:p,styles:E,loadingMessage:function(){return Object(c.c)("autocomplete.loading")},noOptionsMessage:function(){return Object(c.c)("autocomplete.noOptions")}}),Object(a.jsx)("div",{className:"invalid-feedback",children:N}),Boolean(l)&&Object(a.jsx)("small",{className:"form-text text-muted",children:l})]})}l.defaultProps={required:!1,isClearable:!0},t.a=l},627:function(e,t,n){"use strict";var r=n(127);function a(){var e=Object(r.a)(["\n  .btn.btn-link {\n    padding-left: 0;\n  }\n"]);return a=function(){return e},e}var o=n(128).a.div(a());t.a=o},628:function(e,t,n){"use strict";n(694),n(146),n(695),n(659),n(38);var r=n(648),a=n(649),o=(n(22),n(653)),i=n(650),c=n(651),u=n(5),s=n.n(u),l=n(684),d=n(681),f=(n(121),n(698),n(619)),m=(n(675),n(699),n(683),n(700)),b=n(693);function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var a=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(i.a)(this,n)}}u.Component;var j=Object(m.a)(f.a);t.a=j},632:function(e,t,n){var r=n(389),a=n(633),o=n(638),i=n(390),c=n(639),u=n(388);e.exports=function(e,t,n){var s=-1,l=a,d=e.length,f=!0,m=[],b=m;if(n)f=!1,l=o;else if(d>=200){var p=t?null:c(e);if(p)return u(p);f=!1,l=i,b=new r}else b=t?[]:m;e:for(;++s<d;){var j=e[s],v=t?t(j):j;if(j=n||0!==j?j:0,f&&v===v){for(var h=b.length;h--;)if(b[h]===v)continue e;t&&b.push(v),m.push(j)}else l(b,v,n)||(b!==m&&b.push(v),m.push(j))}return m}},633:function(e,t,n){var r=n(634);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},634:function(e,t,n){var r=n(635),a=n(636),o=n(637);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,a,n)}},635:function(e,t){e.exports=function(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}},636:function(e,t){e.exports=function(e){return e!==e}},637:function(e,t){e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},638:function(e,t){e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},639:function(e,t,n){var r=n(391),a=n(640),o=n(388),i=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a;e.exports=i},640:function(e,t){e.exports=function(){}},645:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(19),i=n(3),c=n(145),u=n(11),s=n(5),l=n(623),d=n(6),f=n(2),m=n(607);t.a=function(e){var t=Object(s.useState)(!1),n=Object(c.a)(t,2),r=n[0],b=n[1],p=Object(s.useRef)(),j=function(){var t=e.value;return t?Array.isArray(t)?t:[t]:[]},v=function(){var t=Object(i.a)(a.a.mark((function t(n){var r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,(r=n.target.files)&&r.length){t.next=4;break}return t.abrupt("return");case 4:return i=r[0],l.a.validate(i,{storage:e.storage,formats:e.formats}),b(!0),t.next=9,l.a.upload(i,{storage:e.storage,formats:e.formats});case 9:i=t.sent,p.current.value="",b(!1),e.onChange([].concat(Object(o.a)(j()),[i])),t.next=21;break;case 15:t.prev=15,t.t0=t.catch(0),p.current.value="",console.error(t.t0),b(!1),d.a.showMessage(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}(),h=e.max,O=e.readonly,x=Object(u.jsxs)("label",{className:"btn btn-outline-secondary px-4 mb-2",style:{cursor:"pointer"},children:[Object(u.jsx)(m.a,{loading:r,iconClass:"fas fa-plus"})," ",Object(f.c)("fileUploader.upload"),Object(u.jsx)("input",{style:{display:"none"},disabled:r||O,accept:function(){var t=e.schema;if(t&&t.formats)return t.formats.map((function(e){return".".concat(e)})).join(",")}(),type:"file",onChange:v,ref:p})]});return Object(u.jsxs)("div",{children:[O||h&&j().map((function(e){return{uid:e.id||void 0,name:e.name,status:"done",url:e.downloadUrl}})).length>=h?null:x,j()&&j().length?Object(u.jsx)("div",{children:j().map((function(t){return Object(u.jsxs)("div",{children:[Object(u.jsx)("i",{className:"fas fa-link text-muted mr-2"}),Object(u.jsx)("a",{href:t.downloadUrl,target:"_blank",rel:"noopener noreferrer",download:!0,children:t.name}),!O&&Object(u.jsx)("button",{className:"btn btn-link",type:"button",onClick:function(){return n=t.id,void e.onChange(j().filter((function(e){return e.id!==n})));var n},children:Object(u.jsx)("i",{className:"fas fa-times"})})]},t.id)}))}):null]})}},646:function(e,t,n){var r=n(263),a=n(632);e.exports=function(e,t){return e&&e.length?a(e,r(t,2)):[]}},648:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},649:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return a}))},650:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(656),a=n(657);function o(e,t){return!t||"object"!==Object(r.a)(t)&&"function"!==typeof t?Object(a.a)(e):t}},651:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},653:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",(function(){return a}))},656:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r}))},657:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},659:function(e,t,n){var r=n(660),a=n(661),o=n(696),i=n(662);e.exports=function(e){return r(e)||a(e)||o(e)||i()}},660:function(e,t,n){var r=n(697);e.exports=function(e){if(Array.isArray(e))return r(e)}},661:function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},662:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},664:function(e,t,n){"use strict";var r,a=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(a)}var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var c=function(e){return"string"===typeof e&&i.test(e)},u=[],s=0;s<256;++s)u.push((s+256).toString(16).substr(1));var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!c(n))throw TypeError("Stringified UUID is invalid");return n};t.a=function(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return l(r)}},677:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},704:function(e,t,n){"use strict";var r=n(11),a=n(5),o=n(645),i=n(606),c=n(608);function u(e){var t=e.label,n=e.name,u=e.hint,s=e.storage,l=e.formats,d=e.max,f=e.required,m=e.externalErrorMessage,b=Object(i.d)(),p=b.register,j=b.errors,v=b.formState,h=v.touched,O=v.isSubmitted,x=b.setValue,g=b.watch;Object(a.useEffect)((function(){p({name:n})}),[p,n]);var y=c.a.errorMessage(n,j,h,O,m);return Object(r.jsxs)("div",{className:"form-group",children:[Boolean(t)&&Object(r.jsx)("label",{className:"col-form-label ".concat(f?"required":null),htmlFor:n,children:t}),Object(r.jsx)("br",{}),Object(r.jsx)(o.a,{storage:s,formats:l,value:g(n),onChange:function(t){x(n,t,{shouldValidate:!0}),e.onChange&&e.onChange(t)},max:d}),Object(r.jsx)("div",{className:"invalid-feedback",children:y}),Boolean(u)&&Object(r.jsx)("small",{className:"form-text text-muted",children:u})]})}u.defaultProps={max:void 0,required:!1},t.a=u},730:function(e,t,n){"use strict";var r=n(4),a=n(29),o=n(57),i=n(129),c=Object(r.a)([a.a.selectCurrentTenant,a.a.selectCurrentUser],(function(e,t){return new o.a(e,t).match(i.a.values.categorieMouvRead)})),u=Object(r.a)([a.a.selectCurrentTenant,a.a.selectCurrentUser],(function(e,t){return new o.a(e,t).match(i.a.values.categorieMouvEdit)})),s=Object(r.a)([a.a.selectCurrentTenant,a.a.selectCurrentUser],(function(e,t){return new o.a(e,t).match(i.a.values.categorieMouvCreate)})),l=Object(r.a)([a.a.selectCurrentTenant,a.a.selectCurrentUser],(function(e,t){return new o.a(e,t).match(i.a.values.categorieMouvImport)})),d={selectPermissionToRead:c,selectPermissionToEdit:u,selectPermissionToCreate:s,selectPermissionToDestroy:Object(r.a)([a.a.selectCurrentTenant,a.a.selectCurrentUser],(function(e,t){return new o.a(e,t).match(i.a.values.categorieMouvDestroy)})),selectPermissionToImport:l};t.a=d},759:function(e,t,n){"use strict";var r=n(0),a=n(145),o=n(11),i=n(5),c=n(606),u=n(2),s=n(616),l=n(607),d=n(620),f=n(39),m=n(618),b=n(613),p=f.e().shape({title:s.a.string(Object(u.c)("entities.categorieMouv.fields.title"),{required:!0}),description:s.a.string(Object(u.c)("entities.categorieMouv.fields.description"),{})});t.a=function(e){var t=Object(i.useState)((function(){var t=e.record||{};return{title:t.title,description:t.description}})),n=Object(a.a)(t,1)[0],s=Object(c.c)({resolver:Object(m.yupResolver)(p),mode:"all",defaultValues:n}),f=function(t){var n;e.onSubmit(null===(n=e.record)||void 0===n?void 0:n.id,t)};return Object(o.jsx)(d.a,{children:Object(o.jsx)(c.a,Object(r.a)(Object(r.a)({},s),{},{children:Object(o.jsxs)("form",{onSubmit:s.handleSubmit(f),children:[Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-lg-7 col-md-8 col-12",children:Object(o.jsx)(b.a,{name:"title",label:Object(u.c)("entities.categorieMouv.fields.title"),required:!0,autoFocus:!0})}),Object(o.jsx)("div",{className:"col-lg-7 col-md-8 col-12",children:Object(o.jsx)(b.a,{name:"description",label:Object(u.c)("entities.categorieMouv.fields.description"),required:!1})})]}),Object(o.jsxs)("div",{className:"form-buttons",children:[Object(o.jsxs)("button",{className:"btn btn-primary",disabled:e.saveLoading,type:"button",onClick:s.handleSubmit(f),children:[Object(o.jsx)(l.a,{loading:e.saveLoading,iconClass:"far fa-save"})," ",Object(u.c)("common.save")]}),Object(o.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){Object.keys(n).forEach((function(e){s.setValue(e,n[e])}))},children:[Object(o.jsx)("i",{className:"fas fa-undo"})," ",Object(u.c)("common.reset")]}),e.onCancel?Object(o.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){return e.onCancel()},children:[Object(o.jsx)("i",{className:"fas fa-times"})," ",Object(u.c)("common.cancel")]}):null]})]})}))})}},793:function(e,t,n){"use strict";var r=n(0),a=n(19),o=n(145),i=n(11),c=n(5),u=n(70),s=n(1),l=n.n(s),d=n(3),f=n(121),m=n.n(f),b=n(2),p=n(6),j=n(759);var v=function(e){var t=Object(c.useRef)(),n=Object(c.useState)(!1),r=Object(o.a)(n,2),a=r[0],s=r[1];Object(c.useEffect)((function(){window.$(t.current).modal("show"),window.$(t.current).on("hidden.bs.modal",e.onClose)}),[]);var f=function(){var n=Object(d.a)(l.a.mark((function n(r,a){var o,i,c;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(!0),n.next=4,u.a.create(a);case 4:return o=n.sent,i=o.id,n.next=8,u.a.find(i);case 8:c=n.sent,window.$(t.current).modal("hide"),e.onSuccess(c),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),p.a.handle(n.t0);case 16:return n.prev=16,s(!1),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[0,13,16,19]])})));return function(e,t){return n.apply(this,arguments)}}();return m.a.createPortal(Object(i.jsx)("div",{ref:t,className:"modal",tabIndex:-1,children:Object(i.jsx)("div",{className:"modal-dialog modal-lg",children:Object(i.jsxs)("div",{className:"modal-content",children:[Object(i.jsxs)("div",{className:"modal-header",children:[Object(i.jsx)("h5",{className:"modal-title",children:Object(b.c)("entities.categorieMouv.new.title")}),Object(i.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:Object(i.jsx)("span",{children:"\xd7"})})]}),Object(i.jsx)("div",{className:"modal-body",children:Object(i.jsx)(j.a,{saveLoading:a,onSubmit:f,onCancel:function(){window.$(t.current).modal("hide")},modal:!0})})]})})}),document.getElementById("modal-root"))},h=n(624),O=n(606),x=n(35),g=n(730);t.a=function(e){var t=Object(O.d)(),n=t.setValue,s=t.getValues,l=Object(c.useState)(!1),d=Object(o.a)(l,2),f=d[0],m=d[1],b=Object(x.e)(g.a.selectPermissionToCreate),p=function(){m(!1)},j={toAutocomplete(e){if(!e)return null;var t=e.id,n=e.label;return e.title&&(n=e.title),{key:t,value:t,label:n}},toValue:e=>e?{id:e.value,label:e.label}:null};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(h.a,Object(r.a)(Object(r.a)({},e),{},{fetchFn:function(e,t){return u.a.listAutocomplete(e,t)},mapper:j,onOpenModal:function(){m(!0)},hasPermissionToCreate:b})),f&&Object(i.jsx)(v,{onClose:p,onSuccess:function(t){var r=e.name,o=e.mode;n(r,o&&"multiple"===o?[].concat(Object(a.a)(s()[r]||[]),[t]):t),p()}})]})}},883:function(e,t,n){"use strict";n.r(t);var r=n(145),a=n(11),o=n(5),i=n(35),c=n(32),u=n(2),s=n(109),l=n(4),d=function(e){return e.mouvements.form},f=Object(l.a)([d],(function(e){return e.record})),m={selectInitLoading:Object(l.a)([d],(function(e){return Boolean(e.initLoading)})),selectSaveLoading:Object(l.a)([d],(function(e){return Boolean(e.saveLoading)})),selectRecord:f,selectRaw:d},b=n(7),p=n(0),j=n(606),v=n(616),h=n(607),O=n(620),x=n(39),g=n(618),y=n(613),C=n(626),w=n(276),N=n(265),M=n(704),S=n(793),q=n(627),k=n(614),B=n(615),E=x.e().shape({typeMouv:v.a.enumerator(Object(u.c)("entities.mouvements.fields.typeMouv"),{required:!0,options:w.a.typeMouv}),categorie:v.a.relationToOne(Object(u.c)("entities.mouvements.fields.categorie"),{required:!0}),titre:v.a.string(Object(u.c)("entities.mouvements.fields.titre"),{required:!0}),montant:v.a.decimal(Object(u.c)("entities.mouvements.fields.montant"),{required:!0}),attachements:v.a.files(Object(u.c)("entities.mouvements.fields.attachements"),{})});var P=function(e){var t=Object(o.useState)((function(){var t=e.record||{};return{typeMouv:t.typeMouv,categorie:t.categorie,titre:t.titre,montant:t.montant,attachements:t.attachements||[]}})),n=Object(r.a)(t,1)[0],i=Object(j.c)({resolver:Object(g.yupResolver)(E),mode:"all",defaultValues:n}),c=function(t){var n;e.onSubmit(null===(n=e.record)||void 0===n?void 0:n.id,t)};return Object(a.jsx)(O.a,{children:Object(a.jsx)(j.a,Object(p.a)(Object(p.a)({},i),{},{children:Object(a.jsxs)("form",{onSubmit:i.handleSubmit(c),children:[Object(a.jsxs)(q.a,{children:[Object(a.jsxs)(k.a,{style:{backgroundColor:"#f0f2f5",paddingBottom:"10px"},children:[Object(a.jsx)(B.a,{sm:4,children:Object(a.jsx)(y.a,{name:"titre",label:Object(u.c)("entities.mouvements.fields.titre"),required:!0})}),Object(a.jsx)(B.a,{sm:4,children:Object(a.jsx)(C.a,{name:"typeMouv",label:Object(u.c)("entities.mouvements.fields.typeMouv"),options:w.a.typeMouv.map((function(e){return{value:e,label:Object(u.c)("entities.mouvements.enumerators.typeMouv.".concat(e))}})),required:!0})}),Object(a.jsx)(B.a,{sm:4,children:Object(a.jsx)(S.a,{name:"categorie",label:Object(u.c)("entities.mouvements.fields.categorie"),required:!0,showCreate:!e.modal})})]}),Object(a.jsxs)(k.a,{children:[Object(a.jsx)(B.a,{sm:4,children:Object(a.jsx)(y.a,{name:"montant",label:Object(u.c)("entities.mouvements.fields.montant"),required:!0})}),Object(a.jsx)(B.a,{sm:8,children:Object(a.jsx)(M.a,{name:"attachements",label:Object(u.c)("entities.mouvements.fields.attachements"),required:!1,storage:N.a.values.mouvementsAttachements,max:void 0,formats:void 0})})]})]}),Object(a.jsxs)("div",{className:"form-buttons",children:[Object(a.jsxs)("button",{className:"btn btn-primary",disabled:e.saveLoading,type:"button",onClick:i.handleSubmit(c),children:[Object(a.jsx)(h.a,{loading:e.saveLoading,iconClass:"far fa-save"})," ",Object(u.c)("common.save")]}),Object(a.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){Object.keys(n).forEach((function(e){i.setValue(e,n[e])}))},children:[Object(a.jsx)("i",{className:"fas fa-undo"})," ",Object(u.c)("common.reset")]}),e.onCancel?Object(a.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){return e.onCancel()},children:[Object(a.jsx)("i",{className:"fas fa-times"})," ",Object(u.c)("common.cancel")]}):null]})]})}))})},T=n(609),V=n(611),R=n(612),U=n(610);t.default=function(e){var t=Object(o.useState)(!1),n=Object(r.a)(t,2),l=n[0],d=n[1],f=Object(i.d)(),p=Object(c.h)(),j=Object(i.e)(m.selectInitLoading),v=Object(i.e)(m.selectSaveLoading),h=Object(i.e)(m.selectRecord),O=Boolean(p.params.id),x=O?Object(u.c)("entities.mouvements.edit.title"):Object(u.c)("entities.mouvements.new.title");return Object(o.useEffect)((function(){f(s.a.doInit(p.params.id)),d(!0)}),[f,p.params.id]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(V.a,{items:[[Object(u.c)("dashboard.menu"),"/"],[Object(u.c)("entities.mouvements.menu"),"/mouvements"],[x]]}),Object(a.jsxs)(T.a,{children:[Object(a.jsx)(U.a,{children:x}),j&&Object(a.jsx)(R.a,{}),l&&!j&&Object(a.jsx)(P,{saveLoading:v,initLoading:j,record:h,isEditing:O,onSubmit:function(e,t){f(O?s.a.doUpdate(e,t):s.a.doCreate(t))},onCancel:function(){return Object(b.b)().push("/mouvements")}})]})]})}}}]);
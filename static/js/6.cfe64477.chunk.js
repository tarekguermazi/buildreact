(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[6],{607:function(e,t,n){"use strict";var a=n(11);n(5);t.a=function(e){return e.loading?Object(a.jsx)("span",{className:"spinner-border spinner-border-sm"}):e.iconClass?Object(a.jsx)("i",{className:e.iconClass}):null}},608:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(15),r=n(16),l=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"errorMessage",value:function(e,t,n,a){var r,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(l)return l;if(!a&&!n[e])return null;var c=t[e];return(null===c||void 0===c||null===(r=c[0])||void 0===r?void 0:r.message)||(null===c||void 0===c?void 0:c.message)||c||null}}]),e}()},613:function(e,t,n){"use strict";var a=n(11),r=(n(5),n(606)),l=n(608);function c(e){var t=e.defaultValue,n=e.label,c=e.name,s=e.hint,i=e.type,o=e.placeholder,u=e.autoFocus,d=e.autoComplete,m=e.required,b=e.externalErrorMessage,j=e.disabled,f=e.endAdornment,O=Object(r.d)(),h=O.register,p=O.errors,v=O.formState,x=v.touched,g=v.isSubmitted,N=l.a.errorMessage(c,p,x,g,b);return Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsxs)("div",{className:f?"input-group":"",children:[Boolean(n)&&Object(a.jsx)("label",{className:"col-form-label ".concat(m?"required":null),htmlFor:c,children:n}),Object(a.jsx)("input",{value:t,id:c,name:c,type:i,ref:h,onChange:function(t){e.onChange&&e.onChange(t.target.value)},onBlur:function(t){e.onBlur&&e.onBlur(t)},placeholder:o||void 0,autoFocus:u||void 0,autoComplete:d||void 0,disabled:j,className:"form-control ".concat(N?"is-invalid":"")}),f&&Object(a.jsx)("div",{className:"input-group-append",children:Object(a.jsx)("span",{className:"input-group-text",children:f})})]}),Object(a.jsx)("div",{className:"invalid-feedback",children:N}),Boolean(s)&&Object(a.jsx)("small",{className:"form-text text-muted",children:s})]})}c.defaultProps={type:"text",required:!1},t.a=c},616:function(e,t,n){"use strict";var a=n(19),r=n(39),l=n(2),c=n(55),s=n.n(c),i={generic:e=>r.c().label(e),string(e,t){t=t||{};var n=r.h().transform((function(e,t){return""===t?null:e})).nullable(!0).trim().label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),t.matches&&(n=n.matches(t.matches)),n},boolean:(e,t)=>r.b().default(!1).label(e),relationToOne(e,t){t=t||{};var n=r.c().nullable(!0).label(e).transform((function(e,t){return t?t.id:null}));return t.required&&(n=n.required()),n},stringArray(e,t){t=t||{};var n=r.a().compact().ensure().of(r.h().transform((function(e,t){return""===t?null:e})).trim()).label(e);return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},relationToMany(e,t){t=t||{};var n=r.a().nullable(!0).label(e).transform((function(e,t){return t&&t.length?t.map((function(e){return e.id})):[]}));return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},integer(e,t){t=t||{};var n=r.d().transform((function(e,t){return""===t?null:e})).integer().nullable(!0).label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),n},images(e,t){t=t||{};var n=r.a().nullable(!0).label(e);return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},files(e,t){t=t||{};var n=r.a().compact().ensure().nullable(!0).label(e);return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},enumerator(e,t){t=t||{};var n=r.h().transform((function(e,t){return""===t?null:e})).label(e).nullable(!0).oneOf([null].concat(Object(a.a)(t.options||[])));return t.required&&(n=n.required(Object(l.c)("validation.string.selected"))),n},email(e,t){t=t||{};var n=r.h().transform((function(e,t){return""===t?null:e})).nullable(!0).trim().label(e).email();return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),t.matches&&(n=n.matches(t.matches)),n},decimal(e,t){t=t||{};var n=r.d().transform((function(e,t){return""===t?null:e})).nullable(!0).label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),n},datetime(e,t){t=t||{};var n=r.c().nullable(!0).label(e).transform((function(e,t){return e?s()(t,"YYYY-MM-DD HH:mm").toISOString():null}));return t.required&&(n=n.required()),n},date(e,t){t=t||{};var n=r.c().nullable(!0).label(e).test("is-date",Object(l.c)("validation.mixed.default"),(function(e){return!e||s()(e,"YYYY-MM-DD").isValid()})).transform((function(e){return e?s()(e).format("YYYY-MM-DD"):null}));return t.required&&(n=n.required()),n}};t.a=i},620:function(e,t,n){"use strict";var a=n(127);function r(){var e=Object(a.a)(["\n  padding-top: 0;\n  padding-bottom: 0;\n\n  label.required::before {\n    display: inline-block;\n    margin-right: 4px;\n    content: '*';\n    line-height: 1;\n    font-size: 13px;\n    color: #f5222d;\n  }\n\n  .react-datepicker-wrapper {\n    width: 100%;\n  }\n\n  .react-datepicker-popper{\n    margin-top: 50px !important;\n  }\n\n  .custom-control {\n    z-index: 0;\n  }\n\n  .invalid-feedback {\n    display: block;\n  }\n\n  .form-buttons {\n    padding-top: 16px;\n\n    .btn {\n      margin-right: 8px;\n      margin-bottom: 8px;\n    }\n  }\n"]);return r=function(){return e},e}var l=n(128).a.div(r());t.a=l},622:function(e,t,n){"use strict";var a=n(4),r=n(29),l=n(57),c=n(129),s=Object(a.a)([r.a.selectCurrentTenant,r.a.selectCurrentUser],(function(e,t){return new l.a(e,t).match(c.a.values.userRead)})),i=Object(a.a)([r.a.selectCurrentTenant,r.a.selectCurrentUser],(function(e,t){return new l.a(e,t).match(c.a.values.userEdit)})),o=Object(a.a)([r.a.selectCurrentTenant,r.a.selectCurrentUser],(function(e,t){return new l.a(e,t).match(c.a.values.userDestroy)})),u={selectPermissionToRead:s,selectPermissionToEdit:i,selectPermissionToCreate:Object(a.a)([r.a.selectCurrentTenant,r.a.selectCurrentUser],(function(e,t){return new l.a(e,t).match(c.a.values.userCreate)})),selectPermissionToImport:Object(a.a)([r.a.selectCurrentTenant,r.a.selectCurrentUser],(function(e,t){return new l.a(e,t).match(c.a.values.userImport)})),selectPermissionToDestroy:o};t.a=u},624:function(e,t,n){"use strict";var a=n(0),r=n(19),l=n(1),c=n.n(l),s=n(3),i=n(145),o=n(11),u=n(5),d=n(608),m=n(628),b=n(2),j=n(606),f=n(646),O=n.n(f);function h(e){var t=Object(j.d)(),n=t.errors,l=t.watch,f=t.setValue,h=t.register,p=t.formState,v=p.touched,x=p.isSubmitted,g=e.label,N=e.name,C=e.hint,I=e.placeholder,S=e.autoFocus,E=e.externalErrorMessage,y=e.mode,M=e.required,T=e.isClearable,q=e.mapper,A=e.fetchFn,B=l(N),k=Object(u.useState)([]),w=Object(i.a)(k,2),R=w[0],U=w[1],D=Object(u.useState)(!1),V=Object(i.a)(D,2),L=V[0],P=V[1];Object(u.useEffect)((function(){h({name:N})}),[h,N]),Object(u.useEffect)((function(){(function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.next=4,A();case 4:t=(t=e.sent).map((function(e){return q.toAutocomplete(e)})),U(t),P(!1),e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(1),console.error(e.t0),U([]),P(!1),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}})()().then((function(){}))}),[]);var F=function(e){return(R||[]).find((function(t){return t.value===e.value}))||e},Y=function(){return"multiple"===y?_():G()},_=function(){return B?B.map((function(e){return F(q.toAutocomplete(e))})):[]},G=function(){return B?F(q.toAutocomplete(B)):null},H=function(t){if(!t)return f(N,[],{shouldValidate:!0}),void(e.onChange&&e.onChange([]));var n=t.map((function(e){return q.toValue(e)}));f(N,n,{shouldValidate:!0}),e.onChange&&e.onChange(n)},Q=function(t){if(!t)return f(N,null,{shouldValidate:!0}),void(e.onChange&&e.onChange(null));var n=q.toValue(t);f(N,n,{shouldValidate:!0}),e.onChange&&e.onChange(n)},$=L?Object(b.c)("autocomplete.loading"):C,z=d.a.errorMessage(N,n,v,x,E),J=Boolean(z)?{control:function(e){return Object(a.a)(Object(a.a)({},e),{},{borderColor:"red"})}}:void 0;return Object(o.jsxs)("div",{className:"form-group",children:[Boolean(g)&&Object(o.jsx)("label",{className:"col-form-label ".concat(M?"required":null),htmlFor:N,children:g}),Object(o.jsxs)("div",{style:{display:"flex"},children:[Object(o.jsx)(m.a,{className:"w-100",styles:J,id:N,name:N,isMulti:"multiple"===y,placeholder:I||"",autoFocus:S||void 0,onChange:function(e){return"multiple"===y?H(e):Q(e)},value:Y(),isClearable:T,options:function(){var t=e.mode;return R?Y()?"multiple"===t?O()([].concat(Object(r.a)(R),Object(r.a)(Y())),"value"):O()([].concat(Object(r.a)(R),[Y()]),"value"):R:[]}(),onBlur:function(t){e.onBlur&&e.onBlur(t)},loadingMessage:function(){return Object(b.c)("autocomplete.loading")},noOptionsMessage:function(){return Object(b.c)("autocomplete.noOptions")}}),e.showCreate&&e.hasPermissionToCreate?Object(o.jsx)("button",{style:{marginLeft:"16px",flexShrink:0},className:"btn btn-primary",type:"button",onClick:e.onOpenModal,children:Object(o.jsx)("i",{className:"fas fa-plus"})}):null]}),Object(o.jsx)("div",{className:"invalid-feedback",children:z}),Boolean($)&&Object(o.jsx)("small",{className:"form-text text-muted",children:$})]})}h.defaultProps={isClearable:!0,mode:"default",required:!1},t.a=h},626:function(e,t,n){"use strict";var a=n(0),r=n(11),l=n(5),c=n(628),s=n(2),i=n(606),o=n(608);function u(e){var t=e.label,n=e.name,u=e.hint,d=e.options,m=e.required,b=e.mode,j=e.placeholder,f=e.isClearable,O=e.externalErrorMessage,h=Object(i.d)(),p=h.register,v=h.errors,x=h.formState,g=x.touched,N=x.isSubmitted,C=h.setValue,I=h.watch,S=o.a.errorMessage(n,v,g,N,O),E=I(n);Object(l.useEffect)((function(){p({name:n})}),[p,n]);var y=function(){return E?E.map((function(e){return d.find((function(t){return t.value===e}))})):[]},M=function(){var t=e.options;return null!=E?t.find((function(e){return e.value===E})):null},T=function(t){if(!t)return C(n,[],{shouldValidate:!0}),void(e.onChange&&e.onChange([]));var a=t.map((function(e){return e?e.value:e})).filter((function(e){return null!=e}));C(n,a,{shouldValidate:!0}),e.onChange&&e.onChange(a)},q=function(t){if(!t)return C(n,null,{shouldValidate:!0}),void(e.onChange&&e.onChange(null));C(n,t.value,{shouldValidate:!0}),e.onChange&&e.onChange(t.value)},A=Boolean(S)?{container:function(e){return Object(a.a)(Object(a.a)({},e),{},{color:"hsl(0,0%,20%)"})},control:function(e){return Object(a.a)(Object(a.a)({},e),{},{borderColor:"red"})}}:{container:function(e){return Object(a.a)(Object(a.a)({},e),{},{color:"hsl(0,0%,20%)"})}};return Object(r.jsxs)("div",{className:"form-group",children:[Boolean(t)&&Object(r.jsx)("label",{className:"col-form-label ".concat(m?"required":null),children:t}),Object(r.jsx)("br",{}),Object(r.jsx)(c.a,{className:"w-100",value:"multiple"===e.mode?y():M(),onChange:function(t){return"multiple"===e.mode?T(t):q(t)},onBlur:function(t){e.onBlur&&e.onBlur(t)},id:n,name:n,options:d,isMulti:"multiple"===b,placeholder:j||"",isClearable:f,styles:A,loadingMessage:function(){return Object(s.c)("autocomplete.loading")},noOptionsMessage:function(){return Object(s.c)("autocomplete.noOptions")}}),Object(r.jsx)("div",{className:"invalid-feedback",children:S}),Boolean(u)&&Object(r.jsx)("small",{className:"form-text text-muted",children:u})]})}u.defaultProps={required:!1,isClearable:!0},t.a=u},647:function(e,t,n){"use strict";var a=n(1),r=n.n(a),l=n(3),c=n(145),s=n(11),i=n(5),o=n(121),u=n.n(o),d=n(2),m=n(672),b=n(6),j=n(80);t.a=function(e){var t=Object(i.useRef)(),n=Object(i.useState)(!1),a=Object(c.a)(n,2),o=a[0],f=a[1];Object(i.useEffect)((function(){window.$(t.current).modal("show"),window.$(t.current).on("hidden.bs.modal",e.onClose)}),[]);var O=function(){var n=Object(l.a)(r.a.mark((function n(a,l){var c,s;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,f(!0),n.next=4,j.a.create(l);case 4:return n.next=6,j.a.fetchUsers({email:l.emails[0]},null,1,0);case 6:c=n.sent,s=c.rows,window.$(t.current).modal("hide"),e.onSuccess(s[0]),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),b.a.handle(n.t0);case 15:return n.prev=15,f(!1),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[0,12,15,18]])})));return function(e,t){return n.apply(this,arguments)}}();return u.a.createPortal(Object(s.jsx)("div",{ref:t,className:"modal",tabIndex:-1,children:Object(s.jsx)("div",{className:"modal-dialog modal-lg",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h5",{className:"modal-title",children:Object(d.c)("user.new.titleModal")}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:Object(s.jsx)("span",{children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body",children:Object(s.jsx)(m.a,{saveLoading:o,onSubmit:O,onCancel:function(){window.$(t.current).modal("hide")},modal:!0,single:!0})})]})})}),document.getElementById("modal-root"))}},654:function(e,t,n){"use strict";var a=n(11),r=(n(5),n(606)),l=n(608);function c(e){var t=e.defaultValue,n=e.maxValue,c=e.label,s=e.name,i=e.hint,o=e.type,u=e.placeholder,d=e.autoFocus,m=e.autoComplete,b=e.required,j=e.externalErrorMessage,f=e.disabled,O=Object(r.d)(),h=O.register,p=O.errors,v=O.formState,x=v.touched,g=v.isSubmitted,N=l.a.errorMessage(s,p,x,g,j);return Object(a.jsxs)("div",{className:"form-group",children:[Boolean(c)&&Object(a.jsx)("label",{className:"col-form-label ".concat(b?"required":null),htmlFor:s,children:c}),Object(a.jsx)("input",{value:t,max:n,id:s,name:s,type:o,ref:h,onChange:function(t){e.onChange&&e.onChange(t.target.value)},onBlur:function(t){e.onBlur&&e.onBlur(t)},placeholder:u||void 0,autoFocus:d||void 0,autoComplete:m||void 0,disabled:f,className:"form-control ".concat(N?"is-invalid":"")}),Object(a.jsx)("div",{className:"invalid-feedback",children:N}),Boolean(i)&&Object(a.jsx)("small",{className:"form-text text-muted",children:i})]})}c.defaultProps={type:"number",required:!1},t.a=c},665:function(e,t,n){"use strict";var a=n(11),r=n(5),l=n(606),c=n(608),s=n(234),i=n.n(s);n(669);function o(e){var t=e.label,n=e.name,s=e.hint,o=e.placeholder,u=e.autoFocus,d=e.externalErrorMessage,m=e.required,b=e.showTimeInput,j=Object(l.d)(),f=j.register,O=j.errors,h=j.formState,p=h.touched,v=h.isSubmitted,x=j.setValue,g=j.watch;Object(r.useEffect)((function(){f({name:n})}),[f,n]);var N=c.a.errorMessage(n,O,p,v,d);return Object(a.jsxs)("div",{className:"form-group",children:[Boolean(t)&&Object(a.jsx)("label",{className:"col-form-label ".concat(m?"required":null),htmlFor:n,children:t})," ",Object(a.jsx)("br",{}),Object(a.jsx)(i.a,{popperPlacement:"right",peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",id:n,name:n,className:"form-control ".concat(N?"is-invalid":""),onChange:function(t){x(n,t,{shouldValidate:!0}),e.onChange&&e.onChange(t)},onBlur:function(t){e.onBlur&&e.onBlur(t)},selected:g(n),showTimeInput:b,placeholderText:o||"",autoFocus:u||void 0,autoComplete:"off",dateFormat:"dd-MM-yyyy",timeIntervals:15}),Object(a.jsx)("div",{className:"invalid-feedback",children:N}),Boolean(s)&&Object(a.jsx)("small",{className:"form-text text-muted",children:s})]})}o.defaultProps={required:!1},t.a=o},667:function(e,t,n){"use strict";var a=n(266),r={status:["active","invited","empty-permissions","inactive"],roles:Object.keys(a.a.values)};t.a=r},668:function(e,t,n){"use strict";var a=n(0),r=n(19),l=n(145),c=n(11),s=n(5),i=n(80),o=n(647),u=n(624),d=n(606),m=n(35),b=n(622);t.a=function(e){var t=Object(d.d)(),n=t.setValue,j=t.getValues,f=Object(s.useState)(!1),O=Object(l.a)(f,2),h=O[0],p=O[1],v=Object(m.e)(b.a.selectPermissionToCreate),x={toAutocomplete(e){if(!e)return null;if(e.fullName||e.email){var t=e.email;return e.fullName&&(t="".concat(e.fullName," <").concat(e.email,">")),{value:e.id,label:t}}return{value:e.id,label:e.label}},toValue:e=>e?{id:e.value,label:e.label}:null};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(u.a,Object(a.a)(Object(a.a)({},e),{},{fetchFn:function(e,t){return i.a.listAdherantAutocomplete(e,t)},mapper:x,onOpenModal:function(){return p(!0)},hasPermissionToCreate:v})),h&&Object(c.jsx)(o.a,{visible:h,onClose:function(){return p(!1)},onSuccess:function(t){var a=e.name,l=e.mode;n(a,l&&"multiple"===l?[].concat(Object(r.a)(j()[a]||[]),[t]):t),p(!1)}})]})}},670:function(e,t,n){"use strict";var a=n(15),r=n(16),l=n(2),c=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"labelOf",value:function(e){return this.values[e]?Object(l.c)("secteur.".concat(e,".label")):e}},{key:"descriptionOf",value:function(e){return this.values[e]?Object(l.c)("secteur.".concat(e,".description")):e}},{key:"values",get:function(){return{AGRO_ALIMENTAIRE:"AGRO-ALIMENTAIRE",ASSURANCES:"ASSURANCES",AUDIOVISUEL:"AUDIOVISUEL",BANCAIRE:"BANCAIRE",CHIMIE:"CHIMIE",COMPOSANTS_AUTOMOBILES:"COMPOSANTS AUTOMOBILES",DISTRIBUTION:"DISTRIBUTION",DISTRIBUTION_AUTOMOBILE:"DISTRIBUTION AUTOMOBILE",DIVERS:"DIVERS",FINANCIER:"FINANCIER",HOLDING:"HOLDING",IMMOBILIER:"IMMOBILIER",INDUSTRIEL:"INDUSTRIEL",LEASING:"LEASING",LOGISTIQUE_TRANSPORT:"LOGISTIQUE ET TRANSPORT",PHARMACEUTIQUE:"PHARMACEUTIQUE","SANT\xc9":"SANT\xc9",TOURSIME:"TOURSIME",INFORMATION_TECHNOLOGY:"INFORMATION TECHNOLOGY"}}}]),e}(),s={secteur:Object.keys(c.values)};t.a=s},671:function(e,t,n){"use strict";var a=n(15),r=n(16),l=n(2),c=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"labelOf",value:function(e){return this.values[e]?Object(l.c)("".concat(e)):e}},{key:"descriptionOf",value:function(e){return this.values[e]?Object(l.c)("etat.".concat(e,".description")):e}},{key:"values",get:function(){return{"c\xe9l\xe9bataire":"c\xe9l\xe9bataire","mari\xe9":"mari\xe9"}}}]),e}(),s={Etat:Object.keys(c.values)};t.a=s},672:function(e,t,n){"use strict";var a=n(0),r=n(145),l=n(11),c=n(606),s=n(2),i=n(5),o=n(613),u=n(626),d=n(654),m=n(665),b=n(620),j=n(607),f=n(39),O=n(616),h=n(667),p=n(618),v=n(670),x=n(55),g=n.n(x),N=n(671),C=n(668),I=n(614),S=n(615),E=f.e().shape({email:O.a.email(Object(s.c)("user.fields.email")),roles:O.a.stringArray(Object(s.c)("user.fields.roles"),{}),phoneNumber:O.a.string(Object(s.c)("phoneNumber"),{max:24}),secteur:O.a.enumerator(Object(s.c)("secteur"),{options:v.a.secteur}),employeur:O.a.string(Object(s.c)("Employeur"),{}),profession:O.a.string(Object(s.c)("Profession"),{}),adresse:O.a.string(Object(s.c)("adresse"),{}),fullName:O.a.string(Object(s.c)("fullName"),{}),cin:O.a.integer(Object(s.c)("cin"),{max:8}),date_naissance:O.a.date(Object(s.c)("Date Naissance"),{}),etat_civil:O.a.enumerator(Object(s.c)("user.fields.Etat_Civil"),{options:N.a.Etat}),status:O.a.enumerator(Object(s.c)("user.fields.status"),{options:h.a.status}),lien_facebook:O.a.string(Object(s.c)("Lien Facebook"),{}),parrain:O.a.relationToOne(Object(s.c)("user.fields.parrain"),{})}),y=f.e().shape({emails:f.a().label(Object(s.c)("user.fields.emails")).of(f.h().transform((function(e,t){return""===t?null:e})).email(Object(s.c)("user.validations.email")).label(Object(s.c)("user.fields.email")).max(255).required()).required().min(1),roles:O.a.stringArray(Object(s.c)("user.fields.roles"),{required:!1})});t.a=function(e){e.single;var t=e.saveLoading,n=e.user||{},f=e.single?E:y,O=Object(i.useState)((function(){return{emails:[],email:"",roles:[],phoneNumber:"",secteur:"",employeur:"",profession:"",adresse:"",fullName:"",cin:"",date_naissance:n.date_naissance?g()(n.date_naissance,"DD-MM-YYYY").toDate():null,etat_civil:"",status:[""],lien_facebook:"",parrain:""}})),h=Object(r.a)(O,1)[0],x=Object(c.c)({resolver:Object(p.yupResolver)(f),mode:"all",defaultValues:h}),M=function(t){var n=Object.assign({},t);n.roles[0]="membre",n.status="invited",n.parrain=n.parrain.id,n.email&&(n.emails=[n.email],delete n.email),e.onSubmit(null,n)},T=Object(i.useState)(new Date),q=Object(r.a)(T,2);return q[0],q[1],Object(l.jsx)(b.a,{children:Object(l.jsx)(c.a,Object(a.a)(Object(a.a)({},x),{},{children:Object(l.jsxs)("form",{onSubmit:x.handleSubmit(M),children:[Object(l.jsxs)(I.a,{style:{backgroundColor:"#f0f2f5",paddingBottom:"10px"},children:[Object(l.jsx)(S.a,{sm:4,children:Object(l.jsx)(o.a,{name:"emails[0]",label:Object(s.c)("user.fields.email"),required:!0})}),Object(l.jsx)(S.a,{sm:4,children:Object(l.jsx)(o.a,{name:"fullName",label:Object(s.c)("user.fields.fullName"),required:!0})}),Object(l.jsx)(S.a,{sm:4,children:Object(l.jsx)(o.a,{name:"phoneNumber",label:Object(s.c)("user.fields.phoneNumber"),autoComplete:"phoneNumber"})})]}),Object(l.jsxs)(I.a,{children:[Object(l.jsx)(S.a,{sm:4,children:Object(l.jsx)(u.a,{name:"secteur",label:Object(s.c)("user.fields.sector"),options:v.a.secteur.map((function(e){return{value:e,label:Object(s.c)("user.sector.".concat(e))}}))})}),Object(l.jsx)(S.a,{sm:4,children:Object(l.jsx)(o.a,{name:"employeur",label:Object(s.c)("user.fields.employer")})}),Object(l.jsx)(S.a,{sm:4,children:Object(l.jsx)(o.a,{name:"profession",label:Object(s.c)("user.fields.profession")})})]}),Object(l.jsxs)(I.a,{style:{backgroundColor:"#f0f2f5",paddingBottom:"10px"},children:[Object(l.jsx)(S.a,{sm:4,children:Object(l.jsx)(o.a,{name:"adresse",label:Object(s.c)("user.fields.address")})}),Object(l.jsx)(S.a,{sm:4,children:Object(l.jsx)(d.a,{name:"cin",label:Object(s.c)("C.I.N")})}),Object(l.jsx)(S.a,{sm:4,children:Object(l.jsx)(m.a,{name:"date_naissance",label:Object(s.c)("user.fields.birthDate")})})]}),Object(l.jsxs)(I.a,{children:[Object(l.jsx)(S.a,{sm:4,children:Object(l.jsx)(u.a,{name:"etat_civil",label:Object(s.c)("user.fields.maritalStatus"),options:N.a.Etat.map((function(e){return{value:e,label:Object(s.c)("user.maritalStatus.".concat(e))}}))})}),Object(l.jsx)(S.a,{sm:4,children:Object(l.jsx)(o.a,{name:"lien_facebook",label:Object(s.c)("user.fields.facebookLink")})}),Object(l.jsx)(S.a,{sm:4,children:Object(l.jsx)(C.a,{name:"parrain",label:Object(s.c)("user.fields.sponsor"),showCreate:!e.modal})})]}),Object(l.jsxs)("div",{className:"form-buttons",children:[Object(l.jsxs)("button",{className:"btn btn-primary",disabled:t,type:"button",onClick:x.handleSubmit(M),children:[Object(l.jsx)(j.a,{loading:t,iconClass:"far fa-save"})," ",Object(s.c)("common.save")]}),Object(l.jsxs)("button",{disabled:t,onClick:function(){Object.keys(h).forEach((function(e){x.setValue(e,h[e])}))},className:"btn btn-light",type:"button",children:[Object(l.jsx)("i",{className:"fas fa-undo"})," ",Object(s.c)("common.reset")]}),e.onCancel?Object(l.jsxs)("button",{disabled:t,onClick:function(){return e.onCancel()},className:"btn btn-light",type:"button",children:[Object(l.jsx)("i",{className:"fas fa-times"})," ",Object(s.c)("common.cancel")]}):null]})]})}))})}}}]);
(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[74],{626:function(e,t,n){"use strict";var c=n(0),a=n(11),s=n(5),r=n(628),o=n(2),i=n(606),l=n(608);function u(e){var t=e.label,n=e.name,u=e.hint,d=e.options,b=e.required,j=e.mode,m=e.placeholder,O=e.isClearable,h=e.externalErrorMessage,f=Object(i.d)(),x=f.register,p=f.errors,v=f.formState,g=v.touched,y=v.isSubmitted,C=f.setValue,N=f.watch,P=l.a.errorMessage(n,p,g,y,h),w=N(n);Object(s.useEffect)((function(){x({name:n})}),[x,n]);var R=function(){return w?w.map((function(e){return d.find((function(t){return t.value===e}))})):[]},k=function(){var t=e.options;return null!=w?t.find((function(e){return e.value===w})):null},S=function(t){if(!t)return C(n,[],{shouldValidate:!0}),void(e.onChange&&e.onChange([]));var c=t.map((function(e){return e?e.value:e})).filter((function(e){return null!=e}));C(n,c,{shouldValidate:!0}),e.onChange&&e.onChange(c)},T=function(t){if(!t)return C(n,null,{shouldValidate:!0}),void(e.onChange&&e.onChange(null));C(n,t.value,{shouldValidate:!0}),e.onChange&&e.onChange(t.value)},U=Boolean(P)?{container:function(e){return Object(c.a)(Object(c.a)({},e),{},{color:"hsl(0,0%,20%)"})},control:function(e){return Object(c.a)(Object(c.a)({},e),{},{borderColor:"red"})}}:{container:function(e){return Object(c.a)(Object(c.a)({},e),{},{color:"hsl(0,0%,20%)"})}};return Object(a.jsxs)("div",{className:"form-group",children:[Boolean(t)&&Object(a.jsx)("label",{className:"col-form-label ".concat(b?"required":null),children:t}),Object(a.jsx)("br",{}),Object(a.jsx)(r.a,{className:"w-100",value:"multiple"===e.mode?R():k(),onChange:function(t){return"multiple"===e.mode?S(t):T(t)},onBlur:function(t){e.onBlur&&e.onBlur(t)},id:n,name:n,options:d,isMulti:"multiple"===j,placeholder:m||"",isClearable:O,styles:U,loadingMessage:function(){return Object(o.c)("autocomplete.loading")},noOptionsMessage:function(){return Object(o.c)("autocomplete.noOptions")}}),Object(a.jsx)("div",{className:"invalid-feedback",children:P}),Boolean(u)&&Object(a.jsx)("small",{className:"form-text text-muted",children:u})]})}u.defaultProps={required:!1,isClearable:!0},t.a=u},628:function(e,t,n){"use strict";n(694),n(146),n(695),n(659),n(38);var c=n(648),a=n(649),s=(n(22),n(653)),r=n(650),o=n(651),i=n(5),l=n.n(i),u=n(684),d=n(681),b=(n(121),n(698),n(619)),j=(n(675),n(699),n(683),n(700)),m=n(693);function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,c=Object(o.a)(e);if(t){var a=Object(o.a)(this).constructor;n=Reflect.construct(c,arguments,a)}else n=c.apply(this,arguments);return Object(r.a)(this,n)}}i.Component;var h=Object(j.a)(b.a);t.a=h},659:function(e,t,n){var c=n(660),a=n(661),s=n(696),r=n(662);e.exports=function(e){return c(e)||a(e)||s(e)||r()}},660:function(e,t,n){var c=n(697);e.exports=function(e){if(Array.isArray(e))return c(e)}},661:function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},662:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},701:function(e,t,n){"use strict";var c=n(4),a=function(e){return e.user.view},s=Object(c.a)([a],(function(e){return e.user})),r={selectLoading:Object(c.a)([a],(function(e){return Boolean(e.loading)})),selectUser:s,selectRaw:a};t.a=r},734:function(e,t,n){"use strict";var c=n(4),a=n(29),s=n(57),r=n(129),o=Object(c.a)([a.a.selectCurrentTenant,a.a.selectCurrentUser],(function(e,t){return new s.a(e,t).match(r.a.values.donsRead)})),i=Object(c.a)([a.a.selectCurrentTenant,a.a.selectCurrentUser],(function(e,t){return new s.a(e,t).match(r.a.values.donsEdit)})),l=Object(c.a)([a.a.selectCurrentTenant,a.a.selectCurrentUser],(function(e,t){return new s.a(e,t).match(r.a.values.donsCreate)})),u=Object(c.a)([a.a.selectCurrentTenant,a.a.selectCurrentUser],(function(e,t){return new s.a(e,t).match(r.a.values.donsImport)})),d={selectPermissionToRead:o,selectPermissionToEdit:i,selectPermissionToCreate:l,selectPermissionToDestroy:Object(c.a)([a.a.selectCurrentTenant,a.a.selectCurrentUser],(function(e,t){return new s.a(e,t).match(r.a.values.donsDestroy)})),selectPermissionToImport:u};t.a=d},735:function(e,t,n){"use strict";var c=n(4),a={selectLoading:Object(c.a)([function(e){return e.dons.destroy}],(function(e){return Boolean(e.loading)}))};t.a=a},738:function(e,t,n){"use strict";var c=n(11),a=(n(5),n(268));t.a=function(e){var t=function(){var t=e.value;return t?Array.isArray(t)?t:[t]:[]};if(!t().length||!t()[0].downloadUrl)return Object(c.jsx)(a.a,{shape:"square",size:"large"});var n=t()[0].downloadUrl;return Object(c.jsx)(a.a,{shape:"square",size:"large",src:n})}},757:function(e,t,n){"use strict";var c=n(0),a=n(145),s=n(11),r=n(2),o=n(41),i=n(88),l=n(5),u=n(606),d=n(641),b=n(607),j=n(642),m=n(39),O=n(618),h=n(643),f=n(644),x=n(678),p=n(626),v=n(267),g=n(35),y=m.e().shape({montantRange:d.a.decimalRange(Object(r.c)("entities.dons.fields.montantRange")),typePaiement:d.a.enumerator(Object(r.c)("entities.dons.fields.typePaiement"))}),C={montantRange:null,typePaiement:null,iduser:null},N={montantRange:{label:Object(r.c)("entities.dons.fields.montantRange"),render:f.a.decimalRange()},typePaiement:{label:Object(r.c)("entities.dons.fields.typePaiement"),render:f.a.enumerator("entities.dons.enumerators.typePaiement")}};t.a=function(e){var t=e.user,n=(e.match,Object(g.e)(i.a.selectRawFilter)),d=Object(g.d)(),m=Object(l.useState)(!1),f=Object(a.a)(m,2),P=f[0],w=f[1],R=Object(l.useState)((function(){return Object(c.a)(Object(c.a)({},C),n)})),k=Object(a.a)(R,1)[0],S=Object(u.c)({resolver:Object(O.yupResolver)(y),defaultValues:k,mode:"all"});Object(l.useEffect)((function(){k.iduser=t,d(o.a.doFetchUserDons(y.cast(k),n))}),[d]);var T=function(e){var n=S.getValues();n.iduser=t,e.iduser=t,d(o.a.doFetchUserDons(e,n)),w(!1)};return Object(s.jsxs)(j.a,{children:[Object(s.jsx)(h.a,{onClick:function(){w(!P)},renders:N,values:n,expanded:P,onRemove:function(e){return S.setValue(e,C[e]),S.handleSubmit(T)()}}),Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"collapse ".concat(P?"show":""),children:Object(s.jsx)(u.a,Object(c.a)(Object(c.a)({},S),{},{children:Object(s.jsxs)("form",{onSubmit:S.handleSubmit(T),children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-lg-6 col-12",children:Object(s.jsx)(x.a,{name:"montantRange",label:Object(r.c)("entities.dons.fields.montantRange")})}),Object(s.jsx)("div",{className:"col-lg-6 col-12",children:Object(s.jsx)(p.a,{name:"typePaiement",label:Object(r.c)("entities.dons.fields.typePaiement"),options:v.a.typePaiement.map((function(e){return{value:e,label:Object(r.c)("entities.dons.enumerators.typePaiement.".concat(e))}}))})}),Object(s.jsx)("div",{style:{display:"none"},children:Object(s.jsx)("input",{name:"iduser"})})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col-12 filter-buttons",children:[Object(s.jsxs)("button",{className:"btn btn-primary",type:"submit",disabled:e.loading,children:[Object(s.jsx)(b.a,{loading:e.loading,iconClass:"fas fa-search"})," ",Object(r.c)("common.search")]}),Object(s.jsxs)("button",{className:"btn btn-light",type:"button",onClick:function(){Object.keys(C).forEach((function(e){S.setValue(e,C[e])})),w(!1)},disabled:e.loading,children:[Object(s.jsx)(b.a,{loading:e.loading,iconClass:"fas fa-undo"})," ",Object(r.c)("common.reset")]})]})})]})}))})})]})}},804:function(e,t,n){"use strict";n.r(t);var c=n(11),a=n(5),s=n(2),r=n(757),o=n(145),i=n(35),l=n(85),u=n(734),d=n(150),b=n(735),j=n(41),m=n(88),O=n(630),h=n(617),f=n(612),x=n(629),p=n(631),v=n(738);var g=function(e){var t=Object(a.useState)(null),n=Object(o.a)(t,2),r=n[0],g=n[1],y=Object(i.d)(),C=Object(i.e)(m.a.selectLoading),N=Object(i.e)(b.a.selectLoading),P=C||N,w=Object(i.e)(m.a.selectRows),R=Object(i.e)(m.a.selectPagination),k=Object(i.e)(m.a.selectSelectedKeys),S=Object(i.e)(m.a.selectHasRows),T=Object(i.e)(m.a.selectSorter),U=Object(i.e)(m.a.selectIsAllSelected),B=Object(i.e)(u.a.selectPermissionToEdit),D=Object(i.e)(u.a.selectPermissionToDestroy),V=function(){g(null)},A=function(e){var t=T.field===e&&"ascend"===T.order?"descend":"ascend";y(j.a.doChangeSort({field:e,order:t}))};return Object(c.jsxs)(x.a,{children:[Object(c.jsx)("div",{className:"table-responsive",children:Object(c.jsxs)("table",{className:"table table-striped     mt-2",children:[Object(c.jsx)("thead",{className:"thead",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)(O.a,{className:"th-checkbox",children:S&&Object(c.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(c.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"table-header-checkbox",checked:Boolean(U),onChange:function(){y(j.a.doToggleAllSelected())}}),Object(c.jsx)("label",{htmlFor:"table-header-checkbox",className:"custom-control-label",children:"\xa0"})]})}),Object(c.jsx)(O.a,{label:Object(s.c)("Titre Projet")}),Object(c.jsx)(O.a,{onSort:A,hasRows:S,sorter:T,name:"montant",label:Object(s.c)("entities.dons.fields.montant"),align:"right"}),Object(c.jsx)(O.a,{onSort:A,hasRows:S,sorter:T,name:"typePaiement",label:Object(s.c)("entities.dons.fields.typePaiement")}),Object(c.jsx)(O.a,{label:Object(s.c)("entities.dons.fields.attachements")}),Object(c.jsx)(O.a,{className:"th-actions"})]})}),Object(c.jsxs)("tbody",{children:[P&&Object(c.jsx)("tr",{children:Object(c.jsx)("td",{colSpan:100,children:Object(c.jsx)(f.a,{})})}),!P&&!S&&Object(c.jsx)("tr",{children:Object(c.jsx)("td",{colSpan:100,children:Object(c.jsx)("div",{className:"d-flex justify-content-center",children:Object(s.c)("table.noData")})})}),!P&&w.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{className:"th-checkbox",scope:"row",children:Object(c.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(c.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"table-header-checkbox-".concat(e.id),checked:k.includes(e.id),onChange:function(){return t=e.id,void y(j.a.doToggleOneSelected(t));var t}}),Object(c.jsx)("label",{htmlFor:"table-header-checkbox-".concat(e.id),className:"custom-control-label",children:"\xa0"})]})}),Object(c.jsx)("td",{children:e.titre}),Object(c.jsx)("td",{style:{textAlign:"right"},children:e.montant}),Object(c.jsx)("td",{children:e.typePaiement?Object(s.c)("entities.dons.enumerators.typePaiement.".concat(e.typePaiement)):null}),Object(c.jsx)("td",{children:Object(c.jsx)(v.a,{value:e.attachements})}),Object(c.jsxs)("td",{className:"td-actions",children:[Object(c.jsx)(l.a,{className:"btn btn-link",to:"/dons/".concat(e.id),children:Object(s.c)("common.view")}),B&&Object(c.jsx)(l.a,{className:"btn btn-link",to:"/dons/".concat(e.id,"/edit"),children:Object(s.c)("common.edit")}),D&&Object(c.jsx)("button",{className:"btn btn-link",type:"button",onClick:function(){return t=e.id,void g(t);var t},children:Object(s.c)("common.destroy")})]})]},e.id)}))]})]})}),Object(c.jsx)(p.a,{onChange:function(e){y(j.a.doChangePagination(e))},disabled:P,pagination:R}),r&&Object(c.jsx)(h.a,{title:Object(s.c)("common.areYouSure"),onConfirm:function(){return e=r,V(),void y(d.a.doDestroy(e));var e},onClose:function(){return V()},okText:Object(s.c)("common.yes"),cancelText:Object(s.c)("common.no")})]})},y=n(609),C=n(610),N=n(701);t.default=function(e){return Object(i.e)(N.a.selectUser),Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(y.a,{children:[Object(c.jsx)(C.a,{children:Object(s.c)("entities.dons.list.title")}),Object(c.jsx)(r.a,{user:e.user}),Object(c.jsx)(g,{})]})})}}}]);
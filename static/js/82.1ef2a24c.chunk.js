(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[82],{611:function(e,t,c){"use strict";var a=c(127),n=c(11),s=(c(5),c(85));function l(){var e=Object(a.a)(["\n  .breadcrumb {\n    font-size: 13px;\n    margin: 0px;\n    padding: 0px;\n    background-color: transparent;\n  }\n\n  .breadcrumb-item:not(.active) a {\n    color: rgba(0, 0, 0, 0.45);\n  }\n"]);return l=function(){return e},e}var i=c(128).a.nav(l());t.a=function(e){var t=function(e){return e.length>1};return Object(n.jsx)(i,{children:Object(n.jsx)("ol",{className:"breadcrumb",children:e.items.map((function(c,a){return Object(n.jsx)("li",{className:"breadcrumb-item ".concat(e.items.length-1===a?"active":""),children:t(c)?Object(n.jsx)(s.a,{to:c[1],children:c[0]}):c[0]},c[0])}))})})}},613:function(e,t,c){"use strict";var a=c(11),n=(c(5),c(606)),s=c(608);function l(e){var t=e.defaultValue,c=e.label,l=e.name,i=e.hint,o=e.type,r=e.placeholder,b=e.autoFocus,j=e.autoComplete,d=e.required,u=e.externalErrorMessage,m=e.disabled,O=e.endAdornment,h=Object(n.d)(),x=h.register,p=h.errors,f=h.formState,g=f.touched,v=f.isSubmitted,N=s.a.errorMessage(l,p,g,v,u);return Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsxs)("div",{className:O?"input-group":"",children:[Boolean(c)&&Object(a.jsx)("label",{className:"col-form-label ".concat(d?"required":null),htmlFor:l,children:c}),Object(a.jsx)("input",{value:t,id:l,name:l,type:o,ref:x,onChange:function(t){e.onChange&&e.onChange(t.target.value)},onBlur:function(t){e.onBlur&&e.onBlur(t)},placeholder:r||void 0,autoFocus:b||void 0,autoComplete:j||void 0,disabled:m,className:"form-control ".concat(N?"is-invalid":"")}),O&&Object(a.jsx)("div",{className:"input-group-append",children:Object(a.jsx)("span",{className:"input-group-text",children:O})})]}),Object(a.jsx)("div",{className:"invalid-feedback",children:N}),Boolean(i)&&Object(a.jsx)("small",{className:"form-text text-muted",children:i})]})}l.defaultProps={type:"text",required:!1},t.a=l},621:function(e,t,c){"use strict";var a=c(127);function n(){var e=Object(a.a)(["\n  margin-bottom: 8px;\n\n  .btn {\n    margin-right: 8px;\n    margin-bottom: 8px;\n  }\n"]);return n=function(){return e},e}var s=c(128).a.div(n());t.a=s},673:function(e,t,c){"use strict";var a=c(4),n=c(29),s=c(57),l=c(129),i=Object(a.a)([n.a.selectCurrentTenant,n.a.selectCurrentUser],(function(e,t){return new s.a(e,t).match(l.a.values.palierRead)})),o=Object(a.a)([n.a.selectCurrentTenant,n.a.selectCurrentUser],(function(e,t){return new s.a(e,t).match(l.a.values.palierEdit)})),r=Object(a.a)([n.a.selectCurrentTenant,n.a.selectCurrentUser],(function(e,t){return new s.a(e,t).match(l.a.values.palierCreate)})),b=Object(a.a)([n.a.selectCurrentTenant,n.a.selectCurrentUser],(function(e,t){return new s.a(e,t).match(l.a.values.palierImport)})),j={selectPermissionToRead:i,selectPermissionToEdit:o,selectPermissionToCreate:r,selectPermissionToDestroy:Object(a.a)([n.a.selectCurrentTenant,n.a.selectCurrentUser],(function(e,t){return new s.a(e,t).match(l.a.values.palierDestroy)})),selectPermissionToImport:b};t.a=j},776:function(e,t,c){"use strict";var a=c(4),n={selectLoading:Object(a.a)([function(e){return e.palier.destroy}],(function(e){return Boolean(e.loading)}))};t.a=n},870:function(e,t,c){"use strict";c.r(t);var a=c(11),n=c(5),s=c(2),l=c(0),i=c(145),o=c(50),r=c(137),b=c(35),j=c(606),d=c(641),u=c(607),m=c(642),O=c(39),h=c(618),x=c(643),p=c(644),f=c(613),g=c(678),v=O.e().shape({title:d.a.string(Object(s.c)("entities.palier.fields.title")),montantRange:d.a.decimalRange(Object(s.c)("entities.palier.fields.montantRange")),details:d.a.string(Object(s.c)("entities.palier.fields.details"))}),N={title:null,montantRange:[],details:null},y={title:{label:Object(s.c)("entities.palier.fields.title"),render:p.a.generic()},montantRange:{label:Object(s.c)("entities.palier.fields.montantRange"),render:p.a.decimalRange()},details:{label:Object(s.c)("entities.palier.fields.details"),render:p.a.generic()}};var C=function(e){var t=Object(b.e)(r.a.selectRawFilter),c=Object(b.d)(),d=Object(n.useState)(!1),O=Object(i.a)(d,2),p=O[0],C=O[1],k=Object(n.useState)((function(){return Object(l.a)(Object(l.a)({},N),t)})),S=Object(i.a)(k,1)[0],R=Object(j.c)({resolver:Object(h.yupResolver)(v),defaultValues:S,mode:"all"});Object(n.useEffect)((function(){c(o.a.doFetch(v.cast(S),t))}),[c]);var T=function(e){var t=R.getValues();c(o.a.doFetch(e,t)),C(!1)};return Object(a.jsxs)(m.a,{children:[Object(a.jsx)(x.a,{onClick:function(){C(!p)},renders:y,values:t,expanded:p,onRemove:function(e){return R.setValue(e,N[e]),R.handleSubmit(T)()}}),Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"collapse ".concat(p?"show":""),children:Object(a.jsx)(j.a,Object(l.a)(Object(l.a)({},R),{},{children:Object(a.jsxs)("form",{onSubmit:R.handleSubmit(T),children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-lg-6 col-12",children:Object(a.jsx)(f.a,{name:"title",label:Object(s.c)("entities.palier.fields.title")})}),Object(a.jsx)("div",{className:"col-lg-6 col-12",children:Object(a.jsx)(g.a,{name:"montantRange",label:Object(s.c)("entities.palier.fields.montantRange")})}),Object(a.jsx)("div",{className:"col-lg-6 col-12",children:Object(a.jsx)(f.a,{name:"details",label:Object(s.c)("entities.palier.fields.details")})})]}),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-12 filter-buttons",children:[Object(a.jsxs)("button",{className:"btn btn-primary",type:"submit",disabled:e.loading,children:[Object(a.jsx)(u.a,{loading:e.loading,iconClass:"fas fa-search"})," ",Object(s.c)("common.search")]}),Object(a.jsxs)("button",{className:"btn btn-light",type:"button",onClick:function(){Object.keys(N).forEach((function(e){R.setValue(e,N[e])})),c(o.a.doReset()),C(!1)},disabled:e.loading,children:[Object(a.jsx)(u.a,{loading:e.loading,iconClass:"fas fa-undo"})," ",Object(s.c)("common.reset")]})]})})]})}))})})]})},k=c(85),S=c(673),R=c(159),T=c(776),w=c(630),P=c(617),E=c(612),F=c(629),D=c(631);var B=function(e){var t=Object(n.useState)(null),c=Object(i.a)(t,2),l=c[0],j=c[1],d=Object(b.d)(),u=Object(b.e)(r.a.selectLoading),m=Object(b.e)(T.a.selectLoading),O=u||m,h=Object(b.e)(r.a.selectRows),x=Object(b.e)(r.a.selectPagination),p=Object(b.e)(r.a.selectSelectedKeys),f=Object(b.e)(r.a.selectHasRows),g=Object(b.e)(r.a.selectSorter),v=Object(b.e)(r.a.selectIsAllSelected),N=Object(b.e)(S.a.selectPermissionToEdit),y=Object(b.e)(S.a.selectPermissionToDestroy),C=function(){j(null)},B=function(e){var t=g.field===e&&"ascend"===g.order?"descend":"ascend";d(o.a.doChangeSort({field:e,order:t}))};return Object(a.jsxs)(F.a,{children:[Object(a.jsx)("div",{className:"table-responsive",children:Object(a.jsxs)("table",{className:"table table-striped     mt-2",children:[Object(a.jsx)("thead",{className:"thead",children:Object(a.jsxs)("tr",{children:[Object(a.jsx)(w.a,{className:"th-checkbox",children:f&&Object(a.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(a.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"table-header-checkbox",checked:Boolean(v),onChange:function(){d(o.a.doToggleAllSelected())}}),Object(a.jsx)("label",{htmlFor:"table-header-checkbox",className:"custom-control-label",children:"\xa0"})]})}),Object(a.jsx)(w.a,{onSort:B,hasRows:f,sorter:g,name:"title",label:Object(s.c)("entities.palier.fields.title")}),Object(a.jsx)(w.a,{onSort:B,hasRows:f,sorter:g,name:"montant",label:Object(s.c)("entities.palier.fields.montant"),align:"right"}),Object(a.jsx)(w.a,{onSort:B,hasRows:f,sorter:g,name:"details",label:Object(s.c)("entities.palier.fields.details")}),Object(a.jsx)(w.a,{className:"th-actions"})]})}),Object(a.jsxs)("tbody",{children:[O&&Object(a.jsx)("tr",{children:Object(a.jsx)("td",{colSpan:100,children:Object(a.jsx)(E.a,{})})}),!O&&!f&&Object(a.jsx)("tr",{children:Object(a.jsx)("td",{colSpan:100,children:Object(a.jsx)("div",{className:"d-flex justify-content-center",children:Object(s.c)("table.noData")})})}),!O&&h.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"th-checkbox",scope:"row",children:Object(a.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(a.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"table-header-checkbox-".concat(e.id),checked:p.includes(e.id),onChange:function(){return t=e.id,void d(o.a.doToggleOneSelected(t));var t}}),Object(a.jsx)("label",{htmlFor:"table-header-checkbox-".concat(e.id),className:"custom-control-label",children:"\xa0"})]})}),Object(a.jsx)("td",{children:e.title}),Object(a.jsx)("td",{style:{textAlign:"right"},children:e.montant}),Object(a.jsx)("td",{children:e.details}),Object(a.jsxs)("td",{className:"td-actions",children:[Object(a.jsx)(k.a,{className:"btn btn-link",to:"/palier/".concat(e.id),children:Object(s.c)("common.view")}),N&&Object(a.jsx)(k.a,{className:"btn btn-link",to:"/palier/".concat(e.id,"/edit"),children:Object(s.c)("common.edit")}),y&&Object(a.jsx)("button",{className:"btn btn-link",type:"button",onClick:function(){return t=e.id,void j(t);var t},children:Object(s.c)("common.destroy")})]})]},e.id)}))]})]})}),Object(a.jsx)(D.a,{onChange:function(e){d(o.a.doChangePagination(e))},disabled:O,pagination:x}),l&&Object(a.jsx)(P.a,{title:Object(s.c)("common.areYouSure"),onConfirm:function(){return e=l,C(),void d(R.a.doDestroy(e));var e},onClose:function(){return C()},okText:Object(s.c)("common.yes"),cancelText:Object(s.c)("common.no")})]})},L=c(84),A=c(621),U=c(692);var V=function(e){var t=Object(n.useState)(!1),c=Object(i.a)(t,2),l=c[0],j=c[1],d=Object(b.d)(),m=Object(b.e)(r.a.selectSelectedKeys),O=Object(b.e)(r.a.selectLoading),h=Object(b.e)(T.a.selectLoading),x=Object(b.e)(r.a.selectExportLoading),p=Object(b.e)(r.a.selectHasRows),f=Object(b.e)(L.a.selectPermissionToRead),g=Object(b.e)(S.a.selectPermissionToDestroy),v=Object(b.e)(S.a.selectPermissionToCreate),N=Object(b.e)(S.a.selectPermissionToImport),y=function(){j(!0)},C=function(){j(!1)},w=function(){d(o.a.doExport())};return Object(a.jsxs)(A.a,{children:[v&&Object(a.jsx)(k.a,{to:"/palier/new",children:Object(a.jsxs)("button",{className:"btn btn-primary",type:"button",children:[Object(a.jsx)(u.a,{iconClass:"fas fa-plus"})," ",Object(s.c)("common.new")]})}),N&&Object(a.jsx)(k.a,{to:"/palier/importer",children:Object(a.jsxs)("button",{className:"btn btn-primary",type:"button",children:[Object(a.jsx)(u.a,{iconClass:"fas fa-upload"})," ",Object(s.c)("common.import")]})}),function(){if(!g)return null;var e=!m.length||O,t=Object(a.jsxs)("button",{disabled:e,className:"btn btn-primary",type:"button",onClick:y,children:[Object(a.jsx)(u.a,{loading:h,iconClass:"far fa-trash-alt"})," ",Object(s.c)("common.destroy")]});return e?Object(a.jsxs)("span",{"data-tip":Object(s.c)("common.mustSelectARow"),"data-tip-disable":!e,"data-for":"palier-list-toolbar-destroy-tooltip",children:[t,Object(a.jsx)(U.a,{id:"palier-list-toolbar-destroy-tooltip"})]}):t}(),f&&Object(a.jsx)(k.a,{to:"/audit-logs?entityNames=palier",children:Object(a.jsxs)("button",{className:"btn btn-light",type:"button",children:[Object(a.jsx)(u.a,{iconClass:"fas fa-history"})," ",Object(s.c)("auditLog.menu")]})}),function(){var e=!p||O,t=Object(a.jsxs)("button",{className:"btn btn-light",disabled:e,onClick:w,type:"button",children:[Object(a.jsx)(u.a,{loading:x,iconClass:"far fa-file-excel"})," ",Object(s.c)("common.export")]});return e?Object(a.jsxs)("span",{"data-tip":Object(s.c)("common.noDataToExport"),"data-tip-disable":!e,"data-for":"palier-list-toolbar-export-tooltip",children:[t,Object(a.jsx)(U.a,{id:"palier-list-toolbar-export-tooltip"})]}):t}(),l&&Object(a.jsx)(P.a,{title:Object(s.c)("common.areYouSure"),onConfirm:function(){return C(),void d(R.a.doDestroyAll(m))},onClose:function(){return C()},okText:Object(s.c)("common.yes"),cancelText:Object(s.c)("common.no")})]})},I=c(609),q=c(611),H=c(610);t.default=function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(q.a,{items:[[Object(s.c)("dashboard.menu"),"/"],[Object(s.c)("entities.palier.menu")]]}),Object(a.jsxs)(I.a,{children:[Object(a.jsx)(H.a,{children:Object(s.c)("entities.palier.list.title")}),Object(a.jsx)(V,{}),Object(a.jsx)(C,{}),Object(a.jsx)(B,{})]})]})}}}]);
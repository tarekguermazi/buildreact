(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[8],{607:function(e,t,n){"use strict";var a=n(11);n(5);t.a=function(e){return e.loading?Object(a.jsx)("span",{className:"spinner-border spinner-border-sm"}):e.iconClass?Object(a.jsx)("i",{className:e.iconClass}):null}},608:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(15),r=n(16),o=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"errorMessage",value:function(e,t,n,a){var r,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(o)return o;if(!a&&!n[e])return null;var i=t[e];return(null===i||void 0===i||null===(r=i[0])||void 0===r?void 0:r.message)||(null===i||void 0===i?void 0:i.message)||i||null}}]),e}()},609:function(e,t,n){"use strict";var a=n(127);function r(){var e=Object(a.a)(["\n  margin-top: 16px;\n  padding: 24px;\n  background-color: white;\n  width: 100%;\n  border-radius: 5px;\n  border: 1px solid #dee2e6 !important;\n"]);return r=function(){return e},e}var o=n(128).a.div(r());t.a=o},610:function(e,t,n){"use strict";var a=n(127);function r(){var e=Object(a.a)(["\n  margin-bottom: 24px;\n"]);return r=function(){return e},e}var o=n(128).a.h1(r());t.a=o},611:function(e,t,n){"use strict";var a=n(127),r=n(11),o=(n(5),n(85));function i(){var e=Object(a.a)(["\n  .breadcrumb {\n    font-size: 13px;\n    margin: 0px;\n    padding: 0px;\n    background-color: transparent;\n  }\n\n  .breadcrumb-item:not(.active) a {\n    color: rgba(0, 0, 0, 0.45);\n  }\n"]);return i=function(){return e},e}var c=n(128).a.nav(i());t.a=function(e){var t=function(e){return e.length>1};return Object(r.jsx)(c,{children:Object(r.jsx)("ol",{className:"breadcrumb",children:e.items.map((function(n,a){return Object(r.jsx)("li",{className:"breadcrumb-item ".concat(e.items.length-1===a?"active":""),children:t(n)?Object(r.jsx)(o.a,{to:n[1],children:n[0]}):n[0]},n[0])}))})})}},612:function(e,t,n){"use strict";var a=n(11);n(5);t.a=function(){return Object(a.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:Object(a.jsx)("div",{className:"spinner-border text-primary"})})}},613:function(e,t,n){"use strict";var a=n(11),r=(n(5),n(606)),o=n(608);function i(e){var t=e.defaultValue,n=e.label,i=e.name,c=e.hint,l=e.type,s=e.placeholder,u=e.autoFocus,d=e.autoComplete,m=e.required,b=e.externalErrorMessage,f=e.disabled,j=e.endAdornment,p=Object(r.d)(),h=p.register,x=p.errors,v=p.formState,O=v.touched,g=v.isSubmitted,C=o.a.errorMessage(i,x,O,g,b);return Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsxs)("div",{className:j?"input-group":"",children:[Boolean(n)&&Object(a.jsx)("label",{className:"col-form-label ".concat(m?"required":null),htmlFor:i,children:n}),Object(a.jsx)("input",{value:t,id:i,name:i,type:l,ref:h,onChange:function(t){e.onChange&&e.onChange(t.target.value)},onBlur:function(t){e.onBlur&&e.onBlur(t)},placeholder:s||void 0,autoFocus:u||void 0,autoComplete:d||void 0,disabled:f,className:"form-control ".concat(C?"is-invalid":"")}),j&&Object(a.jsx)("div",{className:"input-group-append",children:Object(a.jsx)("span",{className:"input-group-text",children:j})})]}),Object(a.jsx)("div",{className:"invalid-feedback",children:C}),Boolean(c)&&Object(a.jsx)("small",{className:"form-text text-muted",children:c})]})}i.defaultProps={type:"text",required:!1},t.a=i},616:function(e,t,n){"use strict";var a=n(19),r=n(39),o=n(2),i=n(55),c=n.n(i),l={generic:e=>r.c().label(e),string(e,t){t=t||{};var n=r.h().transform((function(e,t){return""===t?null:e})).nullable(!0).trim().label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),t.matches&&(n=n.matches(t.matches)),n},boolean:(e,t)=>r.b().default(!1).label(e),relationToOne(e,t){t=t||{};var n=r.c().nullable(!0).label(e).transform((function(e,t){return t?t.id:null}));return t.required&&(n=n.required()),n},stringArray(e,t){t=t||{};var n=r.a().compact().ensure().of(r.h().transform((function(e,t){return""===t?null:e})).trim()).label(e);return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},relationToMany(e,t){t=t||{};var n=r.a().nullable(!0).label(e).transform((function(e,t){return t&&t.length?t.map((function(e){return e.id})):[]}));return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},integer(e,t){t=t||{};var n=r.d().transform((function(e,t){return""===t?null:e})).integer().nullable(!0).label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),n},images(e,t){t=t||{};var n=r.a().nullable(!0).label(e);return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},files(e,t){t=t||{};var n=r.a().compact().ensure().nullable(!0).label(e);return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},enumerator(e,t){t=t||{};var n=r.h().transform((function(e,t){return""===t?null:e})).label(e).nullable(!0).oneOf([null].concat(Object(a.a)(t.options||[])));return t.required&&(n=n.required(Object(o.c)("validation.string.selected"))),n},email(e,t){t=t||{};var n=r.h().transform((function(e,t){return""===t?null:e})).nullable(!0).trim().label(e).email();return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),t.matches&&(n=n.matches(t.matches)),n},decimal(e,t){t=t||{};var n=r.d().transform((function(e,t){return""===t?null:e})).nullable(!0).label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),n},datetime(e,t){t=t||{};var n=r.c().nullable(!0).label(e).transform((function(e,t){return e?c()(t,"YYYY-MM-DD HH:mm").toISOString():null}));return t.required&&(n=n.required()),n},date(e,t){t=t||{};var n=r.c().nullable(!0).label(e).test("is-date",Object(o.c)("validation.mixed.default"),(function(e){return!e||c()(e,"YYYY-MM-DD").isValid()})).transform((function(e){return e?c()(e).format("YYYY-MM-DD"):null}));return t.required&&(n=n.required()),n}};t.a=l},620:function(e,t,n){"use strict";var a=n(127);function r(){var e=Object(a.a)(["\n  padding-top: 0;\n  padding-bottom: 0;\n\n  label.required::before {\n    display: inline-block;\n    margin-right: 4px;\n    content: '*';\n    line-height: 1;\n    font-size: 13px;\n    color: #f5222d;\n  }\n\n  .react-datepicker-wrapper {\n    width: 100%;\n  }\n\n  .react-datepicker-popper{\n    margin-top: 50px !important;\n  }\n\n  .custom-control {\n    z-index: 0;\n  }\n\n  .invalid-feedback {\n    display: block;\n  }\n\n  .form-buttons {\n    padding-top: 16px;\n\n    .btn {\n      margin-right: 8px;\n      margin-bottom: 8px;\n    }\n  }\n"]);return r=function(){return e},e}var o=n(128).a.div(r());t.a=o},623:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(145),r=n(1),o=n.n(r),i=n(3),c=n(15),l=n(16),s=n(625),u=n.n(s),d=n(2),m=n(9),b=n(664),f=n(8),j=n(262),p=n.n(j),h=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"validate",value:function(e,t){if(t){if(t.image&&!e.type.startsWith("image"))throw new Error(Object(d.c)("fileUploader.image"));if(t.storage.maxSizeInBytes&&e.size>t.storage.maxSizeInBytes)throw new Error(Object(d.c)("fileUploader.size",u()(t.storage.maxSizeInBytes)));var n=x(e.name);if(t.formats&&!t.formats.includes(n))throw new Error(Object(d.c)("fileUploader.formats",t.formats.join(", ")))}}},{key:"upload",value:function(){var e=Object(i.a)(o.a.mark((function e(t,n){var a,r,i,c,l,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,this.validate(t,n),e.next=7;break;case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 7:return a=x(t.name),r=Object(b.a)(),i="".concat(r,".").concat(a),e.next=12,this.fetchFileCredentials(i,n);case 12:return c=e.sent,l=c.uploadCredentials,s=c.downloadUrl,u=c.privateUrl,e.next=18,this.uploadToServer(t,l);case 18:return e.abrupt("return",{id:r,name:t.name,sizeInBytes:t.size,publicUrl:l&&l.publicUrl?l.publicUrl:null,privateUrl:u,downloadUrl:s,new:!0});case 19:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchFileCredentials",value:function(){var e=Object(i.a)(o.a.mark((function e(t,n){var a,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.a.get(),e.next=3,m.a.get("/tenant/".concat(a,"/file/credentials"),{params:{filename:t,storageId:n.storage.id}});case 3:return r=e.sent,i=r.data,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"uploadToServer",value:function(){var e=Object(i.a)(o.a.mark((function e(t,n){var r,i,c,l,s,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,r=n.url,i=new FormData,c=0,l=Object.entries(n.fields||{});c<l.length;c++)s=Object(a.a)(l[c],2),u=s[0],d=s[1],i.append(u,d);return i.append("file",t),e.abrupt("return",p.a.post(r,i,{headers:{"Content-Type":"multipart/form-data"}}));case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function x(e){if(!e)return null;var t=/(?:\.([^.]+))?$/.exec(e);return t?t[1]:null}},624:function(e,t,n){"use strict";var a=n(0),r=n(19),o=n(1),i=n.n(o),c=n(3),l=n(145),s=n(11),u=n(5),d=n(608),m=n(628),b=n(2),f=n(606),j=n(646),p=n.n(j);function h(e){var t=Object(f.d)(),n=t.errors,o=t.watch,j=t.setValue,h=t.register,x=t.formState,v=x.touched,O=x.isSubmitted,g=e.label,C=e.name,y=e.hint,k=e.placeholder,N=e.autoFocus,w=e.externalErrorMessage,q=e.mode,S=e.required,B=e.isClearable,M=e.mapper,F=e.fetchFn,T=o(C),V=Object(u.useState)([]),E=Object(l.a)(V,2),U=E[0],P=E[1],I=Object(u.useState)(!1),z=Object(l.a)(I,2),Y=z[0],A=z[1];Object(u.useEffect)((function(){h({name:C})}),[h,C]),Object(u.useEffect)((function(){(function(){var e=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.prev=1,e.next=4,F();case 4:t=(t=e.sent).map((function(e){return M.toAutocomplete(e)})),P(t),A(!1),e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(1),console.error(e.t0),P([]),A(!1),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}})()().then((function(){}))}),[]);var L=function(e){return(U||[]).find((function(t){return t.value===e.value}))||e},D=function(){return"multiple"===q?R():$()},R=function(){return T?T.map((function(e){return L(M.toAutocomplete(e))})):[]},$=function(){return T?L(M.toAutocomplete(T)):null},W=function(t){if(!t)return j(C,[],{shouldValidate:!0}),void(e.onChange&&e.onChange([]));var n=t.map((function(e){return M.toValue(e)}));j(C,n,{shouldValidate:!0}),e.onChange&&e.onChange(n)},H=function(t){if(!t)return j(C,null,{shouldValidate:!0}),void(e.onChange&&e.onChange(null));var n=M.toValue(t);j(C,n,{shouldValidate:!0}),e.onChange&&e.onChange(n)},J=Y?Object(b.c)("autocomplete.loading"):y,Z=d.a.errorMessage(C,n,v,O,w),G=Boolean(Z)?{control:function(e){return Object(a.a)(Object(a.a)({},e),{},{borderColor:"red"})}}:void 0;return Object(s.jsxs)("div",{className:"form-group",children:[Boolean(g)&&Object(s.jsx)("label",{className:"col-form-label ".concat(S?"required":null),htmlFor:C,children:g}),Object(s.jsxs)("div",{style:{display:"flex"},children:[Object(s.jsx)(m.a,{className:"w-100",styles:G,id:C,name:C,isMulti:"multiple"===q,placeholder:k||"",autoFocus:N||void 0,onChange:function(e){return"multiple"===q?W(e):H(e)},value:D(),isClearable:B,options:function(){var t=e.mode;return U?D()?"multiple"===t?p()([].concat(Object(r.a)(U),Object(r.a)(D())),"value"):p()([].concat(Object(r.a)(U),[D()]),"value"):U:[]}(),onBlur:function(t){e.onBlur&&e.onBlur(t)},loadingMessage:function(){return Object(b.c)("autocomplete.loading")},noOptionsMessage:function(){return Object(b.c)("autocomplete.noOptions")}}),e.showCreate&&e.hasPermissionToCreate?Object(s.jsx)("button",{style:{marginLeft:"16px",flexShrink:0},className:"btn btn-primary",type:"button",onClick:e.onOpenModal,children:Object(s.jsx)("i",{className:"fas fa-plus"})}):null]}),Object(s.jsx)("div",{className:"invalid-feedback",children:Z}),Boolean(J)&&Object(s.jsx)("small",{className:"form-text text-muted",children:J})]})}h.defaultProps={isClearable:!0,mode:"default",required:!1},t.a=h},627:function(e,t,n){"use strict";var a=n(127);function r(){var e=Object(a.a)(["\n  .btn.btn-link {\n    padding-left: 0;\n  }\n"]);return r=function(){return e},e}var o=n(128).a.div(r());t.a=o},654:function(e,t,n){"use strict";var a=n(11),r=(n(5),n(606)),o=n(608);function i(e){var t=e.defaultValue,n=e.maxValue,i=e.label,c=e.name,l=e.hint,s=e.type,u=e.placeholder,d=e.autoFocus,m=e.autoComplete,b=e.required,f=e.externalErrorMessage,j=e.disabled,p=Object(r.d)(),h=p.register,x=p.errors,v=p.formState,O=v.touched,g=v.isSubmitted,C=o.a.errorMessage(c,x,O,g,f);return Object(a.jsxs)("div",{className:"form-group",children:[Boolean(i)&&Object(a.jsx)("label",{className:"col-form-label ".concat(b?"required":null),htmlFor:c,children:i}),Object(a.jsx)("input",{value:t,max:n,id:c,name:c,type:s,ref:h,onChange:function(t){e.onChange&&e.onChange(t.target.value)},onBlur:function(t){e.onBlur&&e.onBlur(t)},placeholder:u||void 0,autoFocus:d||void 0,autoComplete:m||void 0,disabled:j,className:"form-control ".concat(C?"is-invalid":"")}),Object(a.jsx)("div",{className:"invalid-feedback",children:C}),Boolean(l)&&Object(a.jsx)("small",{className:"form-text text-muted",children:l})]})}i.defaultProps={type:"number",required:!1},t.a=i},666:function(e,t,n){"use strict";var a=n(1),r=n.n(a),o=n(19),i=n(3),c=n(145),l=n(11),s=n(5),u=n(623),d=n(6),m=n(2),b=n(127),f=n(128);function j(){var e=Object(b.a)(["\n  .img-card:hover .img-buttons {\n    display: block;\n  }\n\n  .img-buttons {\n    display: none;\n    position: relative;\n    bottom: 2.1rem;\n    width: calc(100px);\n    text-align: center;\n    background-color: rgba(0, 0, 0, 0.5);\n  }\n\n  .img-buttons * {\n    color: white;\n  }\n"]);return j=function(){return e},e}var p=f.a.div(j());function h(){var e=Object(b.a)(["\n  /* The Modal (background) */\n  .modal {\n    display: block;\n    position: fixed; /* Stay in place */\n    z-index: 9999; /* Sit on top */\n    padding-top: 100px; /* Location of the box */\n    left: 0;\n    top: 0;\n    width: 100%; /* Full width */\n    height: 100%; /* Full height */\n    overflow: auto; /* Enable scroll if needed */\n    background-color: rgb(0, 0, 0); /* Fallback color */\n    background-color: rgba(\n      0,\n      0,\n      0,\n      0.9\n    ); /* Black w/ opacity */\n  }\n\n  /* Modal Content (Image) */\n  .modal-content {\n    margin: auto;\n    display: block;\n    width: 80%;\n    max-width: 700px;\n  }\n\n  /* Caption of Modal Image (Image Text) - Same Width as the Image */\n  #caption {\n    margin: auto;\n    display: block;\n    width: 80%;\n    max-width: 700px;\n    text-align: center;\n    color: #ccc;\n    padding: 10px 0;\n    height: 150px;\n  }\n\n  /* Add Animation - Zoom in the Modal */\n  .modal-content,\n  #caption {\n    animation-name: zoom;\n    animation-duration: 0.6s;\n  }\n\n  @keyframes zoom {\n    from {\n      transform: scale(0);\n    }\n    to {\n      transform: scale(1);\n    }\n  }\n\n  /* The Close Button */\n  .close {\n    position: absolute;\n    top: 15px;\n    right: 35px;\n    color: #f1f1f1;\n    font-size: 40px;\n    font-weight: bold;\n    transition: 0.3s;\n  }\n\n  .close:hover,\n  .close:focus {\n    color: #bbb;\n    text-decoration: none;\n    cursor: pointer;\n  }\n\n  /* 100% Image Width on Smaller Screens */\n  @media only screen and (max-width: 700px) {\n    .modal-content {\n      width: 100%;\n    }\n  }\n"]);return h=function(){return e},e}var x=f.a.div(h());var v=function(e){return Object(l.jsx)(x,{children:Object(l.jsxs)("div",{className:"modal",children:[Object(l.jsx)("span",{className:"close",onClick:e.onClose,children:"\xd7"}),Object(l.jsx)("img",{className:"modal-content",src:e.src,alt:e.alt})]})})},O=n(607);t.a=function(e){var t=Object(s.useState)(!1),n=Object(c.a)(t,2),a=n[0],b=n[1],f=Object(s.useState)(null),j=Object(c.a)(f,2),h=j[0],x=j[1],g=Object(s.useRef)(),C=function(){var t=e.value;return t?Array.isArray(t)?t:[t]:[]},y=function(){var t=Object(i.a)(r.a.mark((function t(n){var a,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,(a=n.target.files)&&a.length){t.next=4;break}return t.abrupt("return");case 4:return i=a[0],u.a.validate(i,{storage:e.storage,image:!0}),b(!0),t.next=9,u.a.upload(i,{storage:e.storage,image:!0});case 9:i=t.sent,g.current.value="",b(!1),e.onChange([].concat(Object(o.a)(C()),[i])),t.next=21;break;case 15:t.prev=15,t.t0=t.catch(0),g.current.value="",console.error(t.t0),b(!1),d.a.showMessage(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}(),k=e.max,N=e.readonly,w=Object(l.jsxs)("label",{className:"btn btn-outline-secondary px-4 mb-2",style:{cursor:"pointer"},children:[Object(l.jsx)(O.a,{loading:a,iconClass:"fas fa-plus"})," ",Object(m.c)("fileUploader.upload"),Object(l.jsx)("input",{style:{display:"none"},disabled:a||N,accept:"image/*",type:"file",onChange:y,ref:g})]});return Object(l.jsxs)(p,{children:[N||k&&C().map((function(e){return{uid:e.id||void 0,name:e.name,status:"done",url:e.downloadUrl}})).length>=k?null:w,C()&&C().length?Object(l.jsx)("div",{className:"d-flex flex-row flex-wrap",children:C().map((function(t){return Object(l.jsxs)("div",{className:"mr-2 mb-2 img-card",style:{height:"100px"},children:[Object(l.jsx)("img",{alt:t.name,src:t.downloadUrl,className:"img-thumbnail",style:{width:"100px",height:"100px",objectFit:"cover"}}),Object(l.jsxs)("div",{className:"img-buttons rounded-bottom",children:[Object(l.jsx)("button",{type:"button",className:"btn btn-link",onClick:function(){return function(e){x({src:e.downloadUrl,alt:e.name})}(t)},children:Object(l.jsx)("i",{className:"fas fa-search"})}),!N&&Object(l.jsx)("button",{type:"button",className:"btn btn-link ml-2",onClick:function(){return n=t.id,void e.onChange(C().filter((function(e){return e.id!==n})));var n},children:Object(l.jsx)("i",{className:"fas fa-times"})})]})]},t.id)}))}):null,h&&Object(l.jsx)(v,{src:h.src,alt:h.alt,onClose:function(){x(null)}})]})}},682:function(e,t,n){"use strict";var a=n(11),r=n(5),o=n(666),i=n(606),c=n(608);function l(e){var t=e.label,n=e.name,l=e.hint,s=e.storage,u=e.max,d=e.required,m=e.externalErrorMessage,b=Object(i.d)(),f=b.errors,j=b.formState,p=j.touched,h=j.isSubmitted,x=b.setValue,v=b.watch,O=b.register;Object(r.useEffect)((function(){O({name:n})}),[O,n]);var g=c.a.errorMessage(n,f,p,h,m);return Object(a.jsxs)("div",{className:"form-group",children:[Boolean(t)&&Object(a.jsx)("label",{className:"col-form-label ".concat(d?"required":null),htmlFor:n,children:t}),Object(a.jsx)("br",{}),Object(a.jsx)(o.a,{storage:s,value:v(n),onChange:function(t){x(n,t,{shouldValidate:!0}),e.onChange&&e.onChange(t)},max:u}),Object(a.jsx)("div",{className:"invalid-feedback",children:g}),Boolean(l)&&Object(a.jsx)("small",{className:"form-text text-muted",children:l})]})}l.defaultProps={max:void 0,required:!1},t.a=l},708:function(e,t,n){"use strict";var a=n(4),r=n(29),o=n(57),i=n(129),c=Object(a.a)([r.a.selectCurrentTenant,r.a.selectCurrentUser],(function(e,t){return new o.a(e,t).match(i.a.values.produitCategorieRead)})),l=Object(a.a)([r.a.selectCurrentTenant,r.a.selectCurrentUser],(function(e,t){return new o.a(e,t).match(i.a.values.produitCategorieEdit)})),s=Object(a.a)([r.a.selectCurrentTenant,r.a.selectCurrentUser],(function(e,t){return new o.a(e,t).match(i.a.values.produitCategorieCreate)})),u=Object(a.a)([r.a.selectCurrentTenant,r.a.selectCurrentUser],(function(e,t){return new o.a(e,t).match(i.a.values.produitCategorieImport)})),d={selectPermissionToRead:c,selectPermissionToEdit:l,selectPermissionToCreate:s,selectPermissionToDestroy:Object(a.a)([r.a.selectCurrentTenant,r.a.selectCurrentUser],(function(e,t){return new o.a(e,t).match(i.a.values.produitCategorieDestroy)})),selectPermissionToImport:u};t.a=d},727:function(e,t,n){"use strict";var a=n(11),r=(n(5),n(606)),o=n(608);function i(e){var t=e.label,n=e.name,i=e.hint,c=e.size,l=e.placeholder,s=e.autoFocus,u=e.autoComplete,d=e.externalErrorMessage,m=e.required,b={small:"col-form-label-sm",large:"col-form-label-lg"}[c]||"",f={small:"form-control-sm",large:"form-control-lg"}[c]||"",j=Object(r.d)(),p=j.register,h=j.errors,x=j.formState,v=x.touched,O=x.isSubmitted,g=o.a.errorMessage(n,h,v,O,d);return Object(a.jsxs)("div",{className:"form-group",children:[Boolean(t)&&Object(a.jsx)("label",{className:"col-form-label ".concat(m?"required":null," ").concat(b),htmlFor:n,children:t}),Object(a.jsx)("textarea",{id:n,name:n,ref:p,onChange:function(t){e.onChange&&e.onChange(t.target.value)},onBlur:function(t){e.onBlur&&e.onBlur(t)},placeholder:l||void 0,autoFocus:s||void 0,autoComplete:u||void 0,className:"form-control ".concat(f," ").concat(g?"is-invalid":"")}),Object(a.jsx)("div",{className:"invalid-feedback",children:g}),Boolean(i)&&Object(a.jsx)("small",{className:"form-text text-muted",children:i})]})}i.defaultProps={required:!1},t.a=i},731:function(e,t,n){"use strict";var a=n(0),r=n(145),o=n(11),i=n(5),c=n(606),l=n(2),s=n(616),u=n(607),d=n(620),m=n(39),b=n(618),f=n(613),j=n(614),p=n(615),h=m.e().shape({titre:s.a.string(Object(l.c)("entities.produitCategorie.fields.titre"),{required:!0})});t.a=function(e){var t=Object(i.useState)((function(){return{titre:(e.record||{}).titre}})),n=Object(r.a)(t,1)[0],s=Object(c.c)({resolver:Object(b.yupResolver)(h),mode:"all",defaultValues:n}),m=function(t){var n;e.onSubmit(null===(n=e.record)||void 0===n?void 0:n.id,t)};return Object(o.jsx)(d.a,{children:Object(o.jsx)(c.a,Object(a.a)(Object(a.a)({},s),{},{children:Object(o.jsxs)("form",{onSubmit:s.handleSubmit(m),children:[Object(o.jsx)(j.a,{style:{backgroundColor:"#f0f2f5",paddingBottom:"10px"},children:Object(o.jsx)(p.a,{sm:12,children:Object(o.jsx)(f.a,{name:"titre",label:Object(l.c)("entities.produitCategorie.fields.titre"),required:!0,autoFocus:!0})})}),Object(o.jsxs)("div",{className:"form-buttons",children:[Object(o.jsxs)("button",{className:"btn btn-primary",disabled:e.saveLoading,type:"button",onClick:s.handleSubmit(m),children:[Object(o.jsx)(u.a,{loading:e.saveLoading,iconClass:"far fa-save"})," ",Object(l.c)("common.save")]}),Object(o.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){Object.keys(n).forEach((function(e){s.setValue(e,n[e])}))},children:[Object(o.jsx)("i",{className:"fas fa-undo"})," ",Object(l.c)("common.reset")]}),e.onCancel?Object(o.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){return e.onCancel()},children:[Object(o.jsx)("i",{className:"fas fa-times"})," ",Object(l.c)("common.cancel")]}):null]})]})}))})}},739:function(e,t,n){"use strict";var a=n(0),r=n(19),o=n(145),i=n(11),c=n(5),l=n(67),s=n(1),u=n.n(s),d=n(3),m=n(121),b=n.n(m),f=n(2),j=n(6),p=n(731);var h=function(e){var t=Object(c.useRef)(),n=Object(c.useState)(!1),a=Object(o.a)(n,2),r=a[0],s=a[1];Object(c.useEffect)((function(){window.$(t.current).modal("show"),window.$(t.current).on("hidden.bs.modal",e.onClose)}),[]);var m=function(){var n=Object(d.a)(u.a.mark((function n(a,r){var o,i,c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(!0),n.next=4,l.a.create(r);case 4:return o=n.sent,i=o.id,n.next=8,l.a.find(i);case 8:c=n.sent,window.$(t.current).modal("hide"),e.onSuccess(c),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),j.a.handle(n.t0);case 16:return n.prev=16,s(!1),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[0,13,16,19]])})));return function(e,t){return n.apply(this,arguments)}}();return b.a.createPortal(Object(i.jsx)("div",{ref:t,className:"modal",tabIndex:-1,children:Object(i.jsx)("div",{className:"modal-dialog modal-lg",children:Object(i.jsxs)("div",{className:"modal-content",children:[Object(i.jsxs)("div",{className:"modal-header",children:[Object(i.jsx)("h5",{className:"modal-title",children:Object(f.c)("entities.produitCategorie.new.title")}),Object(i.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:Object(i.jsx)("span",{children:"\xd7"})})]}),Object(i.jsx)("div",{className:"modal-body",children:Object(i.jsx)(p.a,{saveLoading:r,onSubmit:m,onCancel:function(){window.$(t.current).modal("hide")},modal:!0})})]})})}),document.getElementById("modal-root"))},x=n(624),v=n(606),O=n(35),g=n(708);t.a=function(e){var t=Object(v.d)(),n=t.setValue,s=t.getValues,u=Object(c.useState)(!1),d=Object(o.a)(u,2),m=d[0],b=d[1],f=Object(O.e)(g.a.selectPermissionToCreate),j=function(){b(!1)},p={toAutocomplete(e){if(!e)return null;var t=e.id,n=e.label;return e.titre&&(n=e.titre),{key:t,value:t,label:n}},toValue:e=>e?{id:e.value,label:e.label}:null};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x.a,Object(a.a)(Object(a.a)({},e),{},{fetchFn:function(e,t){return l.a.listAutocomplete(e,t)},mapper:p,onOpenModal:function(){b(!0)},hasPermissionToCreate:f})),m&&Object(i.jsx)(h,{onClose:j,onSuccess:function(t){var a=e.name,o=e.mode;n(a,o&&"multiple"===o?[].concat(Object(r.a)(s()[a]||[]),[t]):t),j()}})]})}},745:function(e,t,n){"use strict";var a=n(0),r=n(145),o=n(11),i=n(5),c=n(606),l=n(2),s=n(616),u=n(607),d=n(620),m=n(39),b=n(618),f=n(613),j=n(727),p=n(654),h=n(746),x=n(265),v=n(682),O=n(739),g=n(627),C=n(614),y=n(615),k=m.e().shape({titre:s.a.string(Object(l.c)("entities.produit.fields.titre"),{required:!0}),category:s.a.relationToOne(Object(l.c)("entities.produitCategorie.name"),{required:!0}),description:s.a.string(Object(l.c)("entities.produit.fields.description"),{required:!0}),publish:s.a.boolean(Object(l.c)("entities.produit.fields.publish"),{}),prix:s.a.decimal(Object(l.c)("entities.produit.fields.prix"),{required:!0}),photos:s.a.images(Object(l.c)("entities.produit.fields.photos"),{required:!1,max:4}),stock:s.a.integer(Object(l.c)("entities.produit.fields.stock"),{min:0,required:!1}),stockable:s.a.boolean(Object(l.c)("entities.produit.fields.stock"),{})});t.a=function(e){var t=Object(i.useState)((function(){var t=e.record||{};return t.category?{titre:t.titre,description:t.description,category:t.category[0],publish:t.publish,prix:t.prix,photos:t.photos||[],stock:t.stock,stockable:t.stockable}:{titre:t.titre,description:t.description,category:t.category,publish:t.publish,prix:t.prix,photos:t.photos||[],stock:t.stock,stockable:t.stockable}})),n=Object(r.a)(t,1)[0];console.log(e.record);var s=Object(c.c)({resolver:Object(b.yupResolver)(k),mode:"all",defaultValues:n}),m=function(t){var n;e.onSubmit(null===(n=e.record)||void 0===n?void 0:n.id,t)};return Object(o.jsx)(d.a,{children:Object(o.jsx)(c.a,Object(a.a)(Object(a.a)({},s),{},{children:Object(o.jsxs)("form",{onSubmit:s.handleSubmit(m),children:[Object(o.jsxs)(g.a,{children:[Object(o.jsxs)(C.a,{style:{backgroundColor:"#f0f2f5",paddingBottom:"10px"},children:[Object(o.jsx)(y.a,{sm:4,children:Object(o.jsx)(O.a,{name:"category",label:Object(l.c)("entities.produitCategorie.name"),required:!0,showCreate:!e.modal})}),Object(o.jsx)(y.a,{sm:4,children:Object(o.jsx)(f.a,{name:"titre",label:Object(l.c)("entities.produit.fields.titre"),required:!0,autoFocus:!0})}),Object(o.jsx)(y.a,{sm:4,children:Object(o.jsx)(j.a,{name:"description",label:Object(l.c)("entities.produit.fields.description"),required:!0})})]}),Object(o.jsxs)(C.a,{children:[Object(o.jsx)(y.a,{sm:4,children:Object(o.jsx)(f.a,{name:"prix",label:Object(l.c)("entities.produit.fields.prix"),required:!0})}),Object(o.jsx)(y.a,{sm:4,children:s.getValues().stockable?Object(o.jsx)("div",{className:"col-lg-7 col-md-8 col-12",children:Object(o.jsx)(p.a,{name:"stock",label:Object(l.c)("entities.produit.fields.stock"),required:!1})}):null}),Object(o.jsx)(y.a,{sm:2,children:Object(o.jsx)(h.a,{name:"publish",label:Object(l.c)("entities.produit.fields.publish")})}),Object(o.jsx)(y.a,{sm:2,children:Object(o.jsx)(h.a,{name:"stockable",label:Object(l.c)("entities.produit.fields.stockable")})})]}),Object(o.jsx)(C.a,{style:{backgroundColor:"#f0f2f5",paddingBottom:"10px"},children:Object(o.jsx)(y.a,{sm:12,children:Object(o.jsx)(v.a,{name:"photos",label:Object(l.c)("entities.produit.fields.photos"),required:!1,storage:x.a.values.produitPhotos,max:4})})})]}),Object(o.jsxs)("div",{className:"form-buttons",children:[Object(o.jsxs)("button",{className:"btn btn-primary",disabled:e.saveLoading,type:"button",onClick:s.handleSubmit(m),children:[Object(o.jsx)(u.a,{loading:e.saveLoading,iconClass:"far fa-save"})," ",Object(l.c)("common.save")]}),Object(o.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){Object.keys(n).forEach((function(e){s.setValue(e,n[e])}))},children:[Object(o.jsx)("i",{className:"fas fa-undo"})," ",Object(l.c)("common.reset")]}),e.onCancel?Object(o.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){return e.onCancel()},children:[Object(o.jsx)("i",{className:"fas fa-times"})," ",Object(l.c)("common.cancel")]}):null]})]})}))})}},746:function(e,t,n){"use strict";var a=n(11),r=(n(5),n(606)),o=n(608);function i(e){var t=e.label,n=e.name,i=e.hint,c=e.required,l=e.externalErrorMessage,s=Object(r.d)(),u=s.register,d=s.errors,m=s.formState,b=m.touched,f=m.isSubmitted,j=o.a.errorMessage(n,d,b,f,l);return Object(a.jsxs)("div",{className:"form-group",children:[Boolean(t)&&Object(a.jsx)("label",{className:"col-form-label ".concat(c?"required":null),htmlFor:n,children:t}),Object(a.jsxs)("div",{className:"custom-control custom-switch",children:[Object(a.jsx)("input",{type:"checkbox",className:"custom-control-input",id:n,name:n,ref:u,onChange:function(t){e.onChange&&e.onChange(t.target.checked)},onBlur:function(t){e.onBlur&&e.onBlur(t)}}),Object(a.jsx)("label",{className:"custom-control-label",htmlFor:n,children:"\xa0"})]}),Object(a.jsx)("div",{className:"invalid-feedback",children:j}),Boolean(i)&&Object(a.jsx)("small",{className:"form-text text-muted",children:i})]})}i.defaultProps={},t.a=i}}]);
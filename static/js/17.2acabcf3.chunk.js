(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[17],{607:function(e,t,n){"use strict";var r=n(11);n(5);t.a=function(e){return e.loading?Object(r.jsx)("span",{className:"spinner-border spinner-border-sm"}):e.iconClass?Object(r.jsx)("i",{className:e.iconClass}):null}},608:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(15),a=n(16),o=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"errorMessage",value:function(e,t,n,r){var a,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(o)return o;if(!r&&!n[e])return null;var i=t[e];return(null===i||void 0===i||null===(a=i[0])||void 0===a?void 0:a.message)||(null===i||void 0===i?void 0:i.message)||i||null}}]),e}()},609:function(e,t,n){"use strict";var r=n(127);function a(){var e=Object(r.a)(["\n  margin-top: 16px;\n  padding: 24px;\n  background-color: white;\n  width: 100%;\n  border-radius: 5px;\n  border: 1px solid #dee2e6 !important;\n"]);return a=function(){return e},e}var o=n(128).a.div(a());t.a=o},610:function(e,t,n){"use strict";var r=n(127);function a(){var e=Object(r.a)(["\n  margin-bottom: 24px;\n"]);return a=function(){return e},e}var o=n(128).a.h1(a());t.a=o},611:function(e,t,n){"use strict";var r=n(127),a=n(11),o=(n(5),n(85));function i(){var e=Object(r.a)(["\n  .breadcrumb {\n    font-size: 13px;\n    margin: 0px;\n    padding: 0px;\n    background-color: transparent;\n  }\n\n  .breadcrumb-item:not(.active) a {\n    color: rgba(0, 0, 0, 0.45);\n  }\n"]);return i=function(){return e},e}var c=n(128).a.nav(i());t.a=function(e){var t=function(e){return e.length>1};return Object(a.jsx)(c,{children:Object(a.jsx)("ol",{className:"breadcrumb",children:e.items.map((function(n,r){return Object(a.jsx)("li",{className:"breadcrumb-item ".concat(e.items.length-1===r?"active":""),children:t(n)?Object(a.jsx)(o.a,{to:n[1],children:n[0]}):n[0]},n[0])}))})})}},612:function(e,t,n){"use strict";var r=n(11);n(5);t.a=function(){return Object(r.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:Object(r.jsx)("div",{className:"spinner-border text-primary"})})}},613:function(e,t,n){"use strict";var r=n(11),a=(n(5),n(606)),o=n(608);function i(e){var t=e.defaultValue,n=e.label,i=e.name,c=e.hint,s=e.type,l=e.placeholder,u=e.autoFocus,d=e.autoComplete,b=e.required,m=e.externalErrorMessage,f=e.disabled,j=e.endAdornment,p=Object(a.d)(),h=p.register,x=p.errors,v=p.formState,O=v.touched,g=v.isSubmitted,y=o.a.errorMessage(i,x,O,g,m);return Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsxs)("div",{className:j?"input-group":"",children:[Boolean(n)&&Object(r.jsx)("label",{className:"col-form-label ".concat(b?"required":null),htmlFor:i,children:n}),Object(r.jsx)("input",{value:t,id:i,name:i,type:s,ref:h,onChange:function(t){e.onChange&&e.onChange(t.target.value)},onBlur:function(t){e.onBlur&&e.onBlur(t)},placeholder:l||void 0,autoFocus:u||void 0,autoComplete:d||void 0,disabled:f,className:"form-control ".concat(y?"is-invalid":"")}),j&&Object(r.jsx)("div",{className:"input-group-append",children:Object(r.jsx)("span",{className:"input-group-text",children:j})})]}),Object(r.jsx)("div",{className:"invalid-feedback",children:y}),Boolean(c)&&Object(r.jsx)("small",{className:"form-text text-muted",children:c})]})}i.defaultProps={type:"text",required:!1},t.a=i},616:function(e,t,n){"use strict";var r=n(19),a=n(39),o=n(2),i=n(55),c=n.n(i),s={generic:e=>a.c().label(e),string(e,t){t=t||{};var n=a.h().transform((function(e,t){return""===t?null:e})).nullable(!0).trim().label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),t.matches&&(n=n.matches(t.matches)),n},boolean:(e,t)=>a.b().default(!1).label(e),relationToOne(e,t){t=t||{};var n=a.c().nullable(!0).label(e).transform((function(e,t){return t?t.id:null}));return t.required&&(n=n.required()),n},stringArray(e,t){t=t||{};var n=a.a().compact().ensure().of(a.h().transform((function(e,t){return""===t?null:e})).trim()).label(e);return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},relationToMany(e,t){t=t||{};var n=a.a().nullable(!0).label(e).transform((function(e,t){return t&&t.length?t.map((function(e){return e.id})):[]}));return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},integer(e,t){t=t||{};var n=a.d().transform((function(e,t){return""===t?null:e})).integer().nullable(!0).label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),n},images(e,t){t=t||{};var n=a.a().nullable(!0).label(e);return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},files(e,t){t=t||{};var n=a.a().compact().ensure().nullable(!0).label(e);return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},enumerator(e,t){t=t||{};var n=a.h().transform((function(e,t){return""===t?null:e})).label(e).nullable(!0).oneOf([null].concat(Object(r.a)(t.options||[])));return t.required&&(n=n.required(Object(o.c)("validation.string.selected"))),n},email(e,t){t=t||{};var n=a.h().transform((function(e,t){return""===t?null:e})).nullable(!0).trim().label(e).email();return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),t.matches&&(n=n.matches(t.matches)),n},decimal(e,t){t=t||{};var n=a.d().transform((function(e,t){return""===t?null:e})).nullable(!0).label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),n},datetime(e,t){t=t||{};var n=a.c().nullable(!0).label(e).transform((function(e,t){return e?c()(t,"YYYY-MM-DD HH:mm").toISOString():null}));return t.required&&(n=n.required()),n},date(e,t){t=t||{};var n=a.c().nullable(!0).label(e).test("is-date",Object(o.c)("validation.mixed.default"),(function(e){return!e||c()(e,"YYYY-MM-DD").isValid()})).transform((function(e){return e?c()(e).format("YYYY-MM-DD"):null}));return t.required&&(n=n.required()),n}};t.a=s},620:function(e,t,n){"use strict";var r=n(127);function a(){var e=Object(r.a)(["\n  padding-top: 0;\n  padding-bottom: 0;\n\n  label.required::before {\n    display: inline-block;\n    margin-right: 4px;\n    content: '*';\n    line-height: 1;\n    font-size: 13px;\n    color: #f5222d;\n  }\n\n  .react-datepicker-wrapper {\n    width: 100%;\n  }\n\n  .react-datepicker-popper{\n    margin-top: 50px !important;\n  }\n\n  .custom-control {\n    z-index: 0;\n  }\n\n  .invalid-feedback {\n    display: block;\n  }\n\n  .form-buttons {\n    padding-top: 16px;\n\n    .btn {\n      margin-right: 8px;\n      margin-bottom: 8px;\n    }\n  }\n"]);return a=function(){return e},e}var o=n(128).a.div(a());t.a=o},623:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(145),a=n(1),o=n.n(a),i=n(3),c=n(15),s=n(16),l=n(625),u=n.n(l),d=n(2),b=n(9),m=n(664),f=n(8),j=n(262),p=n.n(j),h=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,null,[{key:"validate",value:function(e,t){if(t){if(t.image&&!e.type.startsWith("image"))throw new Error(Object(d.c)("fileUploader.image"));if(t.storage.maxSizeInBytes&&e.size>t.storage.maxSizeInBytes)throw new Error(Object(d.c)("fileUploader.size",u()(t.storage.maxSizeInBytes)));var n=x(e.name);if(t.formats&&!t.formats.includes(n))throw new Error(Object(d.c)("fileUploader.formats",t.formats.join(", ")))}}},{key:"upload",value:function(){var e=Object(i.a)(o.a.mark((function e(t,n){var r,a,i,c,s,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,this.validate(t,n),e.next=7;break;case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 7:return r=x(t.name),a=Object(m.a)(),i="".concat(a,".").concat(r),e.next=12,this.fetchFileCredentials(i,n);case 12:return c=e.sent,s=c.uploadCredentials,l=c.downloadUrl,u=c.privateUrl,e.next=18,this.uploadToServer(t,s);case 18:return e.abrupt("return",{id:a,name:t.name,sizeInBytes:t.size,publicUrl:s&&s.publicUrl?s.publicUrl:null,privateUrl:u,downloadUrl:l,new:!0});case 19:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchFileCredentials",value:function(){var e=Object(i.a)(o.a.mark((function e(t,n){var r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.a.get(),e.next=3,b.a.get("/tenant/".concat(r,"/file/credentials"),{params:{filename:t,storageId:n.storage.id}});case 3:return a=e.sent,i=a.data,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"uploadToServer",value:function(){var e=Object(i.a)(o.a.mark((function e(t,n){var a,i,c,s,l,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,a=n.url,i=new FormData,c=0,s=Object.entries(n.fields||{});c<s.length;c++)l=Object(r.a)(s[c],2),u=l[0],d=l[1],i.append(u,d);return i.append("file",t),e.abrupt("return",p.a.post(a,i,{headers:{"Content-Type":"multipart/form-data"}}));case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function x(e){if(!e)return null;var t=/(?:\.([^.]+))?$/.exec(e);return t?t[1]:null}},625:function(e,t,n){"use strict";(function(t){!function(t){var n=/^(b|B)$/,r={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},a={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]};function o(e){var t,o,i,c,s,l,u,d,b,m,f,j,p,h,x,v=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},O=[],g=0,y=void 0,w=void 0;if(isNaN(e))throw new TypeError("Invalid number");return o=!0===v.bits,f=!0===v.unix,t=v.base||2,m=void 0!==v.round?v.round:f?1:2,l=void 0!==v.locale?v.locale:"",u=v.localeOptions||{},j=void 0!==v.separator?v.separator:"",p=void 0!==v.spacer?v.spacer:f?"":" ",x=v.symbols||{},h=2===t&&v.standard||"jedec",b=v.output||"string",c=!0===v.fullform,s=v.fullforms instanceof Array?v.fullforms:[],y=void 0!==v.exponent?v.exponent:-1,i=2<t?1e3:1024,(d=(w=Number(e))<0)&&(w=-w),(-1===y||isNaN(y))&&(y=Math.floor(Math.log(w)/Math.log(i)))<0&&(y=0),8<y&&(y=8),"exponent"===b?y:(0===w?(O[0]=0,O[1]=f?"":r[h][o?"bits":"bytes"][y]):(g=w/(2===t?Math.pow(2,10*y):Math.pow(1e3,y)),o&&i<=(g*=8)&&y<8&&(g/=i,y++),O[0]=Number(g.toFixed(0<y?m:0)),O[0]===i&&y<8&&void 0===v.exponent&&(O[0]=1,y++),O[1]=10===t&&1===y?o?"kb":"kB":r[h][o?"bits":"bytes"][y],f&&(O[1]="jedec"===h?O[1].charAt(0):0<y?O[1].replace(/B$/,""):O[1],n.test(O[1])&&(O[0]=Math.floor(O[0]),O[1]=""))),d&&(O[0]=-O[0]),O[1]=x[O[1]]||O[1],!0===l?O[0]=O[0].toLocaleString():0<l.length?O[0]=O[0].toLocaleString(l,u):0<j.length&&(O[0]=O[0].toString().replace(".",j)),"array"===b?O:(c&&(O[1]=s[y]?s[y]:a[h][y]+(o?"bit":"byte")+(1===O[0]?"":"s")),"object"===b?{value:O[0],symbol:O[1],exponent:y}:O.join(p)))}o.partial=function(e){return function(t){return o(t,e)}},e.exports=o}("undefined"!=typeof window&&window)}).call(this,n(86))},626:function(e,t,n){"use strict";var r=n(0),a=n(11),o=n(5),i=n(628),c=n(2),s=n(606),l=n(608);function u(e){var t=e.label,n=e.name,u=e.hint,d=e.options,b=e.required,m=e.mode,f=e.placeholder,j=e.isClearable,p=e.externalErrorMessage,h=Object(s.d)(),x=h.register,v=h.errors,O=h.formState,g=O.touched,y=O.isSubmitted,w=h.setValue,C=h.watch,q=l.a.errorMessage(n,v,g,y,p),N=C(n);Object(o.useEffect)((function(){x({name:n})}),[x,n]);var k=function(){return N?N.map((function(e){return d.find((function(t){return t.value===e}))})):[]},B=function(){var t=e.options;return null!=N?t.find((function(e){return e.value===N})):null},P=function(t){if(!t)return w(n,[],{shouldValidate:!0}),void(e.onChange&&e.onChange([]));var r=t.map((function(e){return e?e.value:e})).filter((function(e){return null!=e}));w(n,r,{shouldValidate:!0}),e.onChange&&e.onChange(r)},M=function(t){if(!t)return w(n,null,{shouldValidate:!0}),void(e.onChange&&e.onChange(null));w(n,t.value,{shouldValidate:!0}),e.onChange&&e.onChange(t.value)},S=Boolean(q)?{container:function(e){return Object(r.a)(Object(r.a)({},e),{},{color:"hsl(0,0%,20%)"})},control:function(e){return Object(r.a)(Object(r.a)({},e),{},{borderColor:"red"})}}:{container:function(e){return Object(r.a)(Object(r.a)({},e),{},{color:"hsl(0,0%,20%)"})}};return Object(a.jsxs)("div",{className:"form-group",children:[Boolean(t)&&Object(a.jsx)("label",{className:"col-form-label ".concat(b?"required":null),children:t}),Object(a.jsx)("br",{}),Object(a.jsx)(i.a,{className:"w-100",value:"multiple"===e.mode?k():B(),onChange:function(t){return"multiple"===e.mode?P(t):M(t)},onBlur:function(t){e.onBlur&&e.onBlur(t)},id:n,name:n,options:d,isMulti:"multiple"===m,placeholder:f||"",isClearable:j,styles:S,loadingMessage:function(){return Object(c.c)("autocomplete.loading")},noOptionsMessage:function(){return Object(c.c)("autocomplete.noOptions")}}),Object(a.jsx)("div",{className:"invalid-feedback",children:q}),Boolean(u)&&Object(a.jsx)("small",{className:"form-text text-muted",children:u})]})}u.defaultProps={required:!1,isClearable:!0},t.a=u},645:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(19),i=n(3),c=n(145),s=n(11),l=n(5),u=n(623),d=n(6),b=n(2),m=n(607);t.a=function(e){var t=Object(l.useState)(!1),n=Object(c.a)(t,2),r=n[0],f=n[1],j=Object(l.useRef)(),p=function(){var t=e.value;return t?Array.isArray(t)?t:[t]:[]},h=function(){var t=Object(i.a)(a.a.mark((function t(n){var r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,(r=n.target.files)&&r.length){t.next=4;break}return t.abrupt("return");case 4:return i=r[0],u.a.validate(i,{storage:e.storage,formats:e.formats}),f(!0),t.next=9,u.a.upload(i,{storage:e.storage,formats:e.formats});case 9:i=t.sent,j.current.value="",f(!1),e.onChange([].concat(Object(o.a)(p()),[i])),t.next=21;break;case 15:t.prev=15,t.t0=t.catch(0),j.current.value="",console.error(t.t0),f(!1),d.a.showMessage(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}(),x=e.max,v=e.readonly,O=Object(s.jsxs)("label",{className:"btn btn-outline-secondary px-4 mb-2",style:{cursor:"pointer"},children:[Object(s.jsx)(m.a,{loading:r,iconClass:"fas fa-plus"})," ",Object(b.c)("fileUploader.upload"),Object(s.jsx)("input",{style:{display:"none"},disabled:r||v,accept:function(){var t=e.schema;if(t&&t.formats)return t.formats.map((function(e){return".".concat(e)})).join(",")}(),type:"file",onChange:h,ref:j})]});return Object(s.jsxs)("div",{children:[v||x&&p().map((function(e){return{uid:e.id||void 0,name:e.name,status:"done",url:e.downloadUrl}})).length>=x?null:O,p()&&p().length?Object(s.jsx)("div",{children:p().map((function(t){return Object(s.jsxs)("div",{children:[Object(s.jsx)("i",{className:"fas fa-link text-muted mr-2"}),Object(s.jsx)("a",{href:t.downloadUrl,target:"_blank",rel:"noopener noreferrer",download:!0,children:t.name}),!v&&Object(s.jsx)("button",{className:"btn btn-link",type:"button",onClick:function(){return n=t.id,void e.onChange(p().filter((function(e){return e.id!==n})));var n},children:Object(s.jsx)("i",{className:"fas fa-times"})})]},t.id)}))}):null]})}},648:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},649:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return a}))},650:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(656),a=n(657);function o(e,t){return!t||"object"!==Object(r.a)(t)&&"function"!==typeof t?Object(a.a)(e):t}},651:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},653:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",(function(){return a}))},656:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r}))},657:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},664:function(e,t,n){"use strict";var r,a=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(a)}var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var c=function(e){return"string"===typeof e&&i.test(e)},s=[],l=0;l<256;++l)s.push((l+256).toString(16).substr(1));var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!c(n))throw TypeError("Stringified UUID is invalid");return n};t.a=function(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return u(r)}},665:function(e,t,n){"use strict";var r=n(11),a=n(5),o=n(606),i=n(608),c=n(234),s=n.n(c);n(669);function l(e){var t=e.label,n=e.name,c=e.hint,l=e.placeholder,u=e.autoFocus,d=e.externalErrorMessage,b=e.required,m=e.showTimeInput,f=Object(o.d)(),j=f.register,p=f.errors,h=f.formState,x=h.touched,v=h.isSubmitted,O=f.setValue,g=f.watch;Object(a.useEffect)((function(){j({name:n})}),[j,n]);var y=i.a.errorMessage(n,p,x,v,d);return Object(r.jsxs)("div",{className:"form-group",children:[Boolean(t)&&Object(r.jsx)("label",{className:"col-form-label ".concat(b?"required":null),htmlFor:n,children:t})," ",Object(r.jsx)("br",{}),Object(r.jsx)(s.a,{popperPlacement:"right",peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",id:n,name:n,className:"form-control ".concat(y?"is-invalid":""),onChange:function(t){O(n,t,{shouldValidate:!0}),e.onChange&&e.onChange(t)},onBlur:function(t){e.onBlur&&e.onBlur(t)},selected:g(n),showTimeInput:m,placeholderText:l||"",autoFocus:u||void 0,autoComplete:"off",dateFormat:"dd-MM-yyyy",timeIntervals:15}),Object(r.jsx)("div",{className:"invalid-feedback",children:y}),Boolean(c)&&Object(r.jsx)("small",{className:"form-text text-muted",children:c})]})}l.defaultProps={required:!1},t.a=l},666:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(19),i=n(3),c=n(145),s=n(11),l=n(5),u=n(623),d=n(6),b=n(2),m=n(127),f=n(128);function j(){var e=Object(m.a)(["\n  .img-card:hover .img-buttons {\n    display: block;\n  }\n\n  .img-buttons {\n    display: none;\n    position: relative;\n    bottom: 2.1rem;\n    width: calc(100px);\n    text-align: center;\n    background-color: rgba(0, 0, 0, 0.5);\n  }\n\n  .img-buttons * {\n    color: white;\n  }\n"]);return j=function(){return e},e}var p=f.a.div(j());function h(){var e=Object(m.a)(["\n  /* The Modal (background) */\n  .modal {\n    display: block;\n    position: fixed; /* Stay in place */\n    z-index: 9999; /* Sit on top */\n    padding-top: 100px; /* Location of the box */\n    left: 0;\n    top: 0;\n    width: 100%; /* Full width */\n    height: 100%; /* Full height */\n    overflow: auto; /* Enable scroll if needed */\n    background-color: rgb(0, 0, 0); /* Fallback color */\n    background-color: rgba(\n      0,\n      0,\n      0,\n      0.9\n    ); /* Black w/ opacity */\n  }\n\n  /* Modal Content (Image) */\n  .modal-content {\n    margin: auto;\n    display: block;\n    width: 80%;\n    max-width: 700px;\n  }\n\n  /* Caption of Modal Image (Image Text) - Same Width as the Image */\n  #caption {\n    margin: auto;\n    display: block;\n    width: 80%;\n    max-width: 700px;\n    text-align: center;\n    color: #ccc;\n    padding: 10px 0;\n    height: 150px;\n  }\n\n  /* Add Animation - Zoom in the Modal */\n  .modal-content,\n  #caption {\n    animation-name: zoom;\n    animation-duration: 0.6s;\n  }\n\n  @keyframes zoom {\n    from {\n      transform: scale(0);\n    }\n    to {\n      transform: scale(1);\n    }\n  }\n\n  /* The Close Button */\n  .close {\n    position: absolute;\n    top: 15px;\n    right: 35px;\n    color: #f1f1f1;\n    font-size: 40px;\n    font-weight: bold;\n    transition: 0.3s;\n  }\n\n  .close:hover,\n  .close:focus {\n    color: #bbb;\n    text-decoration: none;\n    cursor: pointer;\n  }\n\n  /* 100% Image Width on Smaller Screens */\n  @media only screen and (max-width: 700px) {\n    .modal-content {\n      width: 100%;\n    }\n  }\n"]);return h=function(){return e},e}var x=f.a.div(h());var v=function(e){return Object(s.jsx)(x,{children:Object(s.jsxs)("div",{className:"modal",children:[Object(s.jsx)("span",{className:"close",onClick:e.onClose,children:"\xd7"}),Object(s.jsx)("img",{className:"modal-content",src:e.src,alt:e.alt})]})})},O=n(607);t.a=function(e){var t=Object(l.useState)(!1),n=Object(c.a)(t,2),r=n[0],m=n[1],f=Object(l.useState)(null),j=Object(c.a)(f,2),h=j[0],x=j[1],g=Object(l.useRef)(),y=function(){var t=e.value;return t?Array.isArray(t)?t:[t]:[]},w=function(){var t=Object(i.a)(a.a.mark((function t(n){var r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,(r=n.target.files)&&r.length){t.next=4;break}return t.abrupt("return");case 4:return i=r[0],u.a.validate(i,{storage:e.storage,image:!0}),m(!0),t.next=9,u.a.upload(i,{storage:e.storage,image:!0});case 9:i=t.sent,g.current.value="",m(!1),e.onChange([].concat(Object(o.a)(y()),[i])),t.next=21;break;case 15:t.prev=15,t.t0=t.catch(0),g.current.value="",console.error(t.t0),m(!1),d.a.showMessage(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}(),C=e.max,q=e.readonly,N=Object(s.jsxs)("label",{className:"btn btn-outline-secondary px-4 mb-2",style:{cursor:"pointer"},children:[Object(s.jsx)(O.a,{loading:r,iconClass:"fas fa-plus"})," ",Object(b.c)("fileUploader.upload"),Object(s.jsx)("input",{style:{display:"none"},disabled:r||q,accept:"image/*",type:"file",onChange:w,ref:g})]});return Object(s.jsxs)(p,{children:[q||C&&y().map((function(e){return{uid:e.id||void 0,name:e.name,status:"done",url:e.downloadUrl}})).length>=C?null:N,y()&&y().length?Object(s.jsx)("div",{className:"d-flex flex-row flex-wrap",children:y().map((function(t){return Object(s.jsxs)("div",{className:"mr-2 mb-2 img-card",style:{height:"100px"},children:[Object(s.jsx)("img",{alt:t.name,src:t.downloadUrl,className:"img-thumbnail",style:{width:"100px",height:"100px",objectFit:"cover"}}),Object(s.jsxs)("div",{className:"img-buttons rounded-bottom",children:[Object(s.jsx)("button",{type:"button",className:"btn btn-link",onClick:function(){return function(e){x({src:e.downloadUrl,alt:e.name})}(t)},children:Object(s.jsx)("i",{className:"fas fa-search"})}),!q&&Object(s.jsx)("button",{type:"button",className:"btn btn-link ml-2",onClick:function(){return n=t.id,void e.onChange(y().filter((function(e){return e.id!==n})));var n},children:Object(s.jsx)("i",{className:"fas fa-times"})})]})]},t.id)}))}):null,h&&Object(s.jsx)(v,{src:h.src,alt:h.alt,onClose:function(){x(null)}})]})}},677:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},682:function(e,t,n){"use strict";var r=n(11),a=n(5),o=n(666),i=n(606),c=n(608);function s(e){var t=e.label,n=e.name,s=e.hint,l=e.storage,u=e.max,d=e.required,b=e.externalErrorMessage,m=Object(i.d)(),f=m.errors,j=m.formState,p=j.touched,h=j.isSubmitted,x=m.setValue,v=m.watch,O=m.register;Object(a.useEffect)((function(){O({name:n})}),[O,n]);var g=c.a.errorMessage(n,f,p,h,b);return Object(r.jsxs)("div",{className:"form-group",children:[Boolean(t)&&Object(r.jsx)("label",{className:"col-form-label ".concat(d?"required":null),htmlFor:n,children:t}),Object(r.jsx)("br",{}),Object(r.jsx)(o.a,{storage:l,value:v(n),onChange:function(t){x(n,t,{shouldValidate:!0}),e.onChange&&e.onChange(t)},max:u}),Object(r.jsx)("div",{className:"invalid-feedback",children:g}),Boolean(s)&&Object(r.jsx)("small",{className:"form-text text-muted",children:s})]})}s.defaultProps={max:void 0,required:!1},t.a=s},704:function(e,t,n){"use strict";var r=n(11),a=n(5),o=n(645),i=n(606),c=n(608);function s(e){var t=e.label,n=e.name,s=e.hint,l=e.storage,u=e.formats,d=e.max,b=e.required,m=e.externalErrorMessage,f=Object(i.d)(),j=f.register,p=f.errors,h=f.formState,x=h.touched,v=h.isSubmitted,O=f.setValue,g=f.watch;Object(a.useEffect)((function(){j({name:n})}),[j,n]);var y=c.a.errorMessage(n,p,x,v,m);return Object(r.jsxs)("div",{className:"form-group",children:[Boolean(t)&&Object(r.jsx)("label",{className:"col-form-label ".concat(b?"required":null),htmlFor:n,children:t}),Object(r.jsx)("br",{}),Object(r.jsx)(o.a,{storage:l,formats:u,value:g(n),onChange:function(t){O(n,t,{shouldValidate:!0}),e.onChange&&e.onChange(t)},max:d}),Object(r.jsx)("div",{className:"invalid-feedback",children:y}),Boolean(s)&&Object(r.jsx)("small",{className:"form-text text-muted",children:s})]})}s.defaultProps={max:void 0,required:!1},t.a=s},727:function(e,t,n){"use strict";var r=n(11),a=(n(5),n(606)),o=n(608);function i(e){var t=e.label,n=e.name,i=e.hint,c=e.size,s=e.placeholder,l=e.autoFocus,u=e.autoComplete,d=e.externalErrorMessage,b=e.required,m={small:"col-form-label-sm",large:"col-form-label-lg"}[c]||"",f={small:"form-control-sm",large:"form-control-lg"}[c]||"",j=Object(a.d)(),p=j.register,h=j.errors,x=j.formState,v=x.touched,O=x.isSubmitted,g=o.a.errorMessage(n,h,v,O,d);return Object(r.jsxs)("div",{className:"form-group",children:[Boolean(t)&&Object(r.jsx)("label",{className:"col-form-label ".concat(b?"required":null," ").concat(m),htmlFor:n,children:t}),Object(r.jsx)("textarea",{id:n,name:n,ref:p,onChange:function(t){e.onChange&&e.onChange(t.target.value)},onBlur:function(t){e.onBlur&&e.onBlur(t)},placeholder:s||void 0,autoFocus:l||void 0,autoComplete:u||void 0,className:"form-control ".concat(f," ").concat(g?"is-invalid":"")}),Object(r.jsx)("div",{className:"invalid-feedback",children:g}),Boolean(i)&&Object(r.jsx)("small",{className:"form-text text-muted",children:i})]})}i.defaultProps={required:!1},t.a=i},887:function(e,t,n){"use strict";n.r(t);var r=n(145),a=n(11),o=n(5),i=n(35),c=n(32),s=n(2),l=n(114),u=n(4),d=function(e){return e.projet.form},b=Object(u.a)([d],(function(e){return e.record})),m={selectInitLoading:Object(u.a)([d],(function(e){return Boolean(e.initLoading)})),selectSaveLoading:Object(u.a)([d],(function(e){return Boolean(e.saveLoading)})),selectRecord:b,selectRaw:d},f=n(7),j=n(0),p=n(606),h=n(616),x=n(607),v=n(620),O=n(39),g=n(618),y=n(613),w=n(727),C=n(626),q=n(249),N=n(55),k=n.n(N),B=n(665),P=n(265),M=n(682),S=n(704),D=n(614),F=n(615),E=O.e().shape({titre:h.a.string(Object(s.c)("entities.projet.fields.titre"),{required:!0}),description:h.a.string(Object(s.c)("entities.projet.fields.description"),{required:!0}),details:h.a.string(Object(s.c)("entities.projet.fields.details"),{required:!0}),typeProjet:h.a.enumerator(Object(s.c)("entities.projet.fields.typeProjet"),{required:!0,options:q.a.typeProjet}),statutProjet:h.a.enumerator(Object(s.c)("entities.projet.fields.statutProjet"),{required:!0,options:q.a.statutProjet}),photoPrincipal:h.a.images(Object(s.c)("entities.projet.fields.photoPrincipal"),{}),budget:h.a.decimal(Object(s.c)("entities.projet.fields.budget"),{}),lieu:h.a.string(Object(s.c)("entities.projet.fields.lieu"),{}),dateDebutProjet:h.a.datetime(Object(s.c)("entities.projet.fields.dateDebutProjet"),{}),dateFinProjet:h.a.datetime(Object(s.c)("entities.projet.fields.dateFinProjet"),{}),dateDebutDon:h.a.date(Object(s.c)("entities.projet.fields.dateDebutDon"),{}),dateFinDon:h.a.date(Object(s.c)("entities.projet.fields.dateFinDon"),{}),photos:h.a.images(Object(s.c)("entities.projet.fields.photos"),{}),attachements:h.a.files(Object(s.c)("entities.projet.fields.attachements"),{}),votes:h.a.relationToMany(Object(s.c)("entities.projet.fields.votes"),{}),dons:h.a.relationToMany(Object(s.c)("entities.projet.fields.dons"),{})});var Y=function(e){var t=Object(o.useState)((function(){var t=e.record||{};return{titre:t.titre,description:t.description,details:t.details,typeProjet:t.typeProjet,statutProjet:t.statutProjet,photoPrincipal:t.photoPrincipal||[],budget:t.budget,lieu:t.lieu,dateDebutProjet:t.dateDebutProjet?k()(t.dateDebutProjet).toDate():null,dateFinProjet:t.dateFinProjet?k()(t.dateFinProjet).toDate():null,dateDebutDon:t.dateDebutDon?k()(t.dateDebutDon,"YYYY-MM-DD").toDate():null,dateFinDon:t.dateFinDon?k()(t.dateFinDon,"YYYY-MM-DD").toDate():null,photos:t.photos||[],attachements:t.attachements||[],votes:t.votes||[],dons:t.dons||[]}})),n=Object(r.a)(t,1)[0],i=Object(p.c)({resolver:Object(g.yupResolver)(E),mode:"all",defaultValues:n}),c=function(t){var n;e.onSubmit(null===(n=e.record)||void 0===n?void 0:n.id,t)};return Object(a.jsx)(v.a,{children:Object(a.jsx)(p.a,Object(j.a)(Object(j.a)({},i),{},{children:Object(a.jsxs)("form",{onSubmit:i.handleSubmit(c),children:[Object(a.jsxs)(D.a,{style:{backgroundColor:"#f0f2f5",paddingBottom:"10px"},children:[Object(a.jsx)(F.a,{sm:4,children:Object(a.jsx)(y.a,{name:"titre",label:Object(s.c)("entities.projet.fields.titre"),required:!0,autoFocus:!0})}),Object(a.jsx)(F.a,{sm:4,children:Object(a.jsx)(y.a,{name:"description",label:Object(s.c)("entities.projet.fields.description"),required:!0})}),Object(a.jsx)(F.a,{sm:4,children:Object(a.jsx)(w.a,{name:"details",label:Object(s.c)("entities.projet.fields.details"),required:!0})})]}),Object(a.jsxs)(D.a,{children:[Object(a.jsx)(F.a,{sm:4,children:Object(a.jsx)(C.a,{name:"typeProjet",label:Object(s.c)("entities.projet.fields.typeProjet"),options:q.a.typeProjet.map((function(e){return{value:e,label:Object(s.c)("entities.projet.enumerators.typeProjet.".concat(e))}})),required:!0})}),Object(a.jsx)(F.a,{sm:4,children:Object(a.jsx)(C.a,{name:"statutProjet",label:Object(s.c)("entities.projet.fields.statutProjet"),options:q.a.statutProjet.map((function(e){return{value:e,label:Object(s.c)("entities.projet.enumerators.statutProjet.".concat(e))}})),required:!0})}),Object(a.jsx)(F.a,{sm:4,children:Object(a.jsx)(y.a,{name:"budget",label:Object(s.c)("entities.projet.fields.budget"),required:!1})})]}),Object(a.jsxs)(D.a,{style:{backgroundColor:"#f0f2f5",paddingBottom:"10px"},children:[Object(a.jsx)(F.a,{sm:4,children:Object(a.jsx)(y.a,{name:"lieu",label:Object(s.c)("entities.projet.fields.lieu"),required:!1})}),Object(a.jsx)(F.a,{sm:4,children:Object(a.jsx)(B.a,{name:"dateDebutProjet",label:Object(s.c)("entities.projet.fields.dateDebutProjet"),required:!1,showTimeInput:!0})}),Object(a.jsx)(F.a,{sm:4,children:Object(a.jsx)(B.a,{name:"dateFinProjet",label:Object(s.c)("entities.projet.fields.dateFinProjet"),required:!1,showTimeInput:!0})})]}),Object(a.jsxs)(D.a,{children:[Object(a.jsx)(F.a,{sm:4,children:Object(a.jsx)(B.a,{name:"dateDebutDon",label:Object(s.c)("entities.projet.fields.dateDebutDon"),required:!1})}),Object(a.jsx)(F.a,{sm:8,children:Object(a.jsx)(B.a,{name:"dateFinDon",label:Object(s.c)("entities.projet.fields.dateFinDon"),required:!1})})]}),Object(a.jsxs)(D.a,{style:{backgroundColor:"#f0f2f5",paddingBottom:"10px"},children:[Object(a.jsx)(F.a,{sm:4,children:Object(a.jsx)(M.a,{name:"photos",label:Object(s.c)("entities.projet.fields.photos"),required:!1,storage:P.a.values.projetPhotos,max:void 0})}),Object(a.jsx)(F.a,{sm:4,children:Object(a.jsx)(M.a,{name:"photoPrincipal",label:Object(s.c)("entities.projet.fields.photoPrincipal"),required:!1,storage:P.a.values.projetPhotoPrincipal,max:void 0})}),Object(a.jsx)(F.a,{sm:4,children:Object(a.jsx)(S.a,{name:"attachements",label:Object(s.c)("entities.projet.fields.attachements"),required:!1,storage:P.a.values.projetAttachements,max:void 0,formats:void 0})})]}),Object(a.jsxs)("div",{className:"form-buttons",children:[Object(a.jsxs)("button",{className:"btn btn-primary",disabled:e.saveLoading,type:"button",onClick:i.handleSubmit(c),children:[Object(a.jsx)(x.a,{loading:e.saveLoading,iconClass:"far fa-save"})," ",Object(s.c)("common.save")]}),Object(a.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){Object.keys(n).forEach((function(e){i.setValue(e,n[e])}))},children:[Object(a.jsx)("i",{className:"fas fa-undo"})," ",Object(s.c)("common.reset")]}),e.onCancel?Object(a.jsxs)("button",{className:"btn btn-light",type:"button",disabled:e.saveLoading,onClick:function(){return e.onCancel()},children:[Object(a.jsx)("i",{className:"fas fa-times"})," ",Object(s.c)("common.cancel")]}):null]})]})}))})},T=n(609),I=n(611),U=n(612),V=n(610);t.default=function(e){var t=Object(o.useState)(!1),n=Object(r.a)(t,2),u=n[0],d=n[1],b=Object(i.d)(),j=Object(c.h)(),p=Object(i.e)(m.selectInitLoading),h=Object(i.e)(m.selectSaveLoading),x=Object(i.e)(m.selectRecord),v=Boolean(j.params.id),O=v?Object(s.c)("entities.projet.edit.title"):Object(s.c)("entities.projet.new.title");return Object(o.useEffect)((function(){b(l.a.doInit(j.params.id)),d(!0)}),[b,j.params.id]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(I.a,{items:[[Object(s.c)("dashboard.menu"),"/"],[Object(s.c)("entities.projet.menu"),"/projet"],[O]]}),Object(a.jsxs)(T.a,{children:[Object(a.jsx)(V.a,{children:O}),p&&Object(a.jsx)(U.a,{}),u&&!p&&Object(a.jsx)(Y,{saveLoading:h,initLoading:p,record:x,isEditing:v,onSubmit:function(e,t){b(v?l.a.doUpdate(e,t):l.a.doCreate(t))},onCancel:function(){return Object(f.b)().push("/projet")}})]})]})}}}]);
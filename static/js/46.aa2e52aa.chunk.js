(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[46],{607:function(e,n,t){"use strict";var r=t(11);t(5);n.a=function(e){return e.loading?Object(r.jsx)("span",{className:"spinner-border spinner-border-sm"}):e.iconClass?Object(r.jsx)("i",{className:e.iconClass}):null}},608:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var r=t(15),a=t(16),i=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"errorMessage",value:function(e,n,t,r){var a,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(i)return i;if(!r&&!t[e])return null;var o=n[e];return(null===o||void 0===o||null===(a=o[0])||void 0===a?void 0:a.message)||(null===o||void 0===o?void 0:o.message)||o||null}}]),e}()},609:function(e,n,t){"use strict";var r=t(127);function a(){var e=Object(r.a)(["\n  margin-top: 16px;\n  padding: 24px;\n  background-color: white;\n  width: 100%;\n  border-radius: 5px;\n  border: 1px solid #dee2e6 !important;\n"]);return a=function(){return e},e}var i=t(128).a.div(a());n.a=i},610:function(e,n,t){"use strict";var r=t(127);function a(){var e=Object(r.a)(["\n  margin-bottom: 24px;\n"]);return a=function(){return e},e}var i=t(128).a.h1(a());n.a=i},611:function(e,n,t){"use strict";var r=t(127),a=t(11),i=(t(5),t(85));function o(){var e=Object(r.a)(["\n  .breadcrumb {\n    font-size: 13px;\n    margin: 0px;\n    padding: 0px;\n    background-color: transparent;\n  }\n\n  .breadcrumb-item:not(.active) a {\n    color: rgba(0, 0, 0, 0.45);\n  }\n"]);return o=function(){return e},e}var c=t(128).a.nav(o());n.a=function(e){var n=function(e){return e.length>1};return Object(a.jsx)(c,{children:Object(a.jsx)("ol",{className:"breadcrumb",children:e.items.map((function(t,r){return Object(a.jsx)("li",{className:"breadcrumb-item ".concat(e.items.length-1===r?"active":""),children:n(t)?Object(a.jsx)(i.a,{to:t[1],children:t[0]}):t[0]},t[0])}))})})}},612:function(e,n,t){"use strict";var r=t(11);t(5);n.a=function(){return Object(r.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:Object(r.jsx)("div",{className:"spinner-border text-primary"})})}},616:function(e,n,t){"use strict";var r=t(19),a=t(39),i=t(2),o=t(55),c=t.n(o),l={generic:e=>a.c().label(e),string(e,n){n=n||{};var t=a.h().transform((function(e,n){return""===n?null:e})).nullable(!0).trim().label(e);return n.required&&(t=t.required()),(n.min||0===n.min)&&(t=t.min(n.min)),n.max&&(t=t.max(n.max)),n.matches&&(t=t.matches(n.matches)),t},boolean:(e,n)=>a.b().default(!1).label(e),relationToOne(e,n){n=n||{};var t=a.c().nullable(!0).label(e).transform((function(e,n){return n?n.id:null}));return n.required&&(t=t.required()),t},stringArray(e,n){n=n||{};var t=a.a().compact().ensure().of(a.h().transform((function(e,n){return""===n?null:e})).trim()).label(e);return(n.required||n.min)&&(t=t.required()),n.min||0===n.min?t=t.min(n.min):n.required&&(t=t.min(1)),n.max&&(t=t.max(n.max)),t},relationToMany(e,n){n=n||{};var t=a.a().nullable(!0).label(e).transform((function(e,n){return n&&n.length?n.map((function(e){return e.id})):[]}));return(n.required||n.min)&&(t=t.required()),n.min||0===n.min?t=t.min(n.min):n.required&&(t=t.min(1)),n.max&&(t=t.max(n.max)),t},integer(e,n){n=n||{};var t=a.d().transform((function(e,n){return""===n?null:e})).integer().nullable(!0).label(e);return n.required&&(t=t.required()),(n.min||0===n.min)&&(t=t.min(n.min)),n.max&&(t=t.max(n.max)),t},images(e,n){n=n||{};var t=a.a().nullable(!0).label(e);return(n.required||n.min)&&(t=t.required()),n.min||0===n.min?t=t.min(n.min):n.required&&(t=t.min(1)),n.max&&(t=t.max(n.max)),t},files(e,n){n=n||{};var t=a.a().compact().ensure().nullable(!0).label(e);return(n.required||n.min)&&(t=t.required()),n.min||0===n.min?t=t.min(n.min):n.required&&(t=t.min(1)),n.max&&(t=t.max(n.max)),t},enumerator(e,n){n=n||{};var t=a.h().transform((function(e,n){return""===n?null:e})).label(e).nullable(!0).oneOf([null].concat(Object(r.a)(n.options||[])));return n.required&&(t=t.required(Object(i.c)("validation.string.selected"))),t},email(e,n){n=n||{};var t=a.h().transform((function(e,n){return""===n?null:e})).nullable(!0).trim().label(e).email();return n.required&&(t=t.required()),(n.min||0===n.min)&&(t=t.min(n.min)),n.max&&(t=t.max(n.max)),n.matches&&(t=t.matches(n.matches)),t},decimal(e,n){n=n||{};var t=a.d().transform((function(e,n){return""===n?null:e})).nullable(!0).label(e);return n.required&&(t=t.required()),(n.min||0===n.min)&&(t=t.min(n.min)),n.max&&(t=t.max(n.max)),t},datetime(e,n){n=n||{};var t=a.c().nullable(!0).label(e).transform((function(e,n){return e?c()(n,"YYYY-MM-DD HH:mm").toISOString():null}));return n.required&&(t=t.required()),t},date(e,n){n=n||{};var t=a.c().nullable(!0).label(e).test("is-date",Object(i.c)("validation.mixed.default"),(function(e){return!e||c()(e,"YYYY-MM-DD").isValid()})).transform((function(e){return e?c()(e).format("YYYY-MM-DD"):null}));return n.required&&(t=t.required()),t}};n.a=l},620:function(e,n,t){"use strict";var r=t(127);function a(){var e=Object(r.a)(["\n  padding-top: 0;\n  padding-bottom: 0;\n\n  label.required::before {\n    display: inline-block;\n    margin-right: 4px;\n    content: '*';\n    line-height: 1;\n    font-size: 13px;\n    color: #f5222d;\n  }\n\n  .react-datepicker-wrapper {\n    width: 100%;\n  }\n\n  .react-datepicker-popper{\n    margin-top: 50px !important;\n  }\n\n  .custom-control {\n    z-index: 0;\n  }\n\n  .invalid-feedback {\n    display: block;\n  }\n\n  .form-buttons {\n    padding-top: 16px;\n\n    .btn {\n      margin-right: 8px;\n      margin-bottom: 8px;\n    }\n  }\n"]);return a=function(){return e},e}var i=t(128).a.div(a());n.a=i},621:function(e,n,t){"use strict";var r=t(127);function a(){var e=Object(r.a)(["\n  margin-bottom: 8px;\n\n  .btn {\n    margin-right: 8px;\n    margin-bottom: 8px;\n  }\n"]);return a=function(){return e},e}var i=t(128).a.div(a());n.a=i},623:function(e,n,t){"use strict";t.d(n,"a",(function(){return h}));var r=t(145),a=t(1),i=t.n(a),o=t(3),c=t(15),l=t(16),u=t(625),s=t.n(u),d=t(2),b=t(9),f=t(664),m=t(8),p=t(262),j=t.n(p),h=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"validate",value:function(e,n){if(n){if(n.image&&!e.type.startsWith("image"))throw new Error(Object(d.c)("fileUploader.image"));if(n.storage.maxSizeInBytes&&e.size>n.storage.maxSizeInBytes)throw new Error(Object(d.c)("fileUploader.size",s()(n.storage.maxSizeInBytes)));var t=g(e.name);if(n.formats&&!n.formats.includes(t))throw new Error(Object(d.c)("fileUploader.formats",n.formats.join(", ")))}}},{key:"upload",value:function(){var e=Object(o.a)(i.a.mark((function e(n,t){var r,a,o,c,l,u,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,this.validate(n,t),e.next=7;break;case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 7:return r=g(n.name),a=Object(f.a)(),o="".concat(a,".").concat(r),e.next=12,this.fetchFileCredentials(o,t);case 12:return c=e.sent,l=c.uploadCredentials,u=c.downloadUrl,s=c.privateUrl,e.next=18,this.uploadToServer(n,l);case 18:return e.abrupt("return",{id:a,name:n.name,sizeInBytes:n.size,publicUrl:l&&l.publicUrl?l.publicUrl:null,privateUrl:s,downloadUrl:u,new:!0});case 19:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(n,t){return e.apply(this,arguments)}}()},{key:"fetchFileCredentials",value:function(){var e=Object(o.a)(i.a.mark((function e(n,t){var r,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.a.get(),e.next=3,b.a.get("/tenant/".concat(r,"/file/credentials"),{params:{filename:n,storageId:t.storage.id}});case 3:return a=e.sent,o=a.data,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"uploadToServer",value:function(){var e=Object(o.a)(i.a.mark((function e(n,t){var a,o,c,l,u,s,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,a=t.url,o=new FormData,c=0,l=Object.entries(t.fields||{});c<l.length;c++)u=Object(r.a)(l[c],2),s=u[0],d=u[1],o.append(s,d);return o.append("file",n),e.abrupt("return",j.a.post(a,o,{headers:{"Content-Type":"multipart/form-data"}}));case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n,t){return e.apply(this,arguments)}}()}]),e}();function g(e){if(!e)return null;var n=/(?:\.([^.]+))?$/.exec(e);return n?n[1]:null}},625:function(e,n,t){"use strict";(function(n){!function(n){var t=/^(b|B)$/,r={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},a={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]};function i(e){var n,i,o,c,l,u,s,d,b,f,m,p,j,h,g,x=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},v=[],O=0,y=void 0,w=void 0;if(isNaN(e))throw new TypeError("Invalid number");return i=!0===x.bits,m=!0===x.unix,n=x.base||2,f=void 0!==x.round?x.round:m?1:2,u=void 0!==x.locale?x.locale:"",s=x.localeOptions||{},p=void 0!==x.separator?x.separator:"",j=void 0!==x.spacer?x.spacer:m?"":" ",g=x.symbols||{},h=2===n&&x.standard||"jedec",b=x.output||"string",c=!0===x.fullform,l=x.fullforms instanceof Array?x.fullforms:[],y=void 0!==x.exponent?x.exponent:-1,o=2<n?1e3:1024,(d=(w=Number(e))<0)&&(w=-w),(-1===y||isNaN(y))&&(y=Math.floor(Math.log(w)/Math.log(o)))<0&&(y=0),8<y&&(y=8),"exponent"===b?y:(0===w?(v[0]=0,v[1]=m?"":r[h][i?"bits":"bytes"][y]):(O=w/(2===n?Math.pow(2,10*y):Math.pow(1e3,y)),i&&o<=(O*=8)&&y<8&&(O/=o,y++),v[0]=Number(O.toFixed(0<y?f:0)),v[0]===o&&y<8&&void 0===x.exponent&&(v[0]=1,y++),v[1]=10===n&&1===y?i?"kb":"kB":r[h][i?"bits":"bytes"][y],m&&(v[1]="jedec"===h?v[1].charAt(0):0<y?v[1].replace(/B$/,""):v[1],t.test(v[1])&&(v[0]=Math.floor(v[0]),v[1]=""))),d&&(v[0]=-v[0]),v[1]=g[v[1]]||v[1],!0===u?v[0]=v[0].toLocaleString():0<u.length?v[0]=v[0].toLocaleString(u,s):0<p.length&&(v[0]=v[0].toString().replace(".",p)),"array"===b?v:(c&&(v[1]=l[y]?l[y]:a[h][y]+(i?"bit":"byte")+(1===v[0]?"":"s")),"object"===b?{value:v[0],symbol:v[1],exponent:y}:v.join(j)))}i.partial=function(e){return function(n){return i(n,e)}},e.exports=i}("undefined"!=typeof window&&window)}).call(this,t(86))},626:function(e,n,t){"use strict";var r=t(0),a=t(11),i=t(5),o=t(628),c=t(2),l=t(606),u=t(608);function s(e){var n=e.label,t=e.name,s=e.hint,d=e.options,b=e.required,f=e.mode,m=e.placeholder,p=e.isClearable,j=e.externalErrorMessage,h=Object(l.d)(),g=h.register,x=h.errors,v=h.formState,O=v.touched,y=v.isSubmitted,w=h.setValue,k=h.watch,C=u.a.errorMessage(t,x,O,y,j),N=k(t);Object(i.useEffect)((function(){g({name:t})}),[g,t]);var S=function(){return N?N.map((function(e){return d.find((function(n){return n.value===e}))})):[]},B=function(){var n=e.options;return null!=N?n.find((function(e){return e.value===N})):null},q=function(n){if(!n)return w(t,[],{shouldValidate:!0}),void(e.onChange&&e.onChange([]));var r=n.map((function(e){return e?e.value:e})).filter((function(e){return null!=e}));w(t,r,{shouldValidate:!0}),e.onChange&&e.onChange(r)},M=function(n){if(!n)return w(t,null,{shouldValidate:!0}),void(e.onChange&&e.onChange(null));w(t,n.value,{shouldValidate:!0}),e.onChange&&e.onChange(n.value)},I=Boolean(C)?{container:function(e){return Object(r.a)(Object(r.a)({},e),{},{color:"hsl(0,0%,20%)"})},control:function(e){return Object(r.a)(Object(r.a)({},e),{},{borderColor:"red"})}}:{container:function(e){return Object(r.a)(Object(r.a)({},e),{},{color:"hsl(0,0%,20%)"})}};return Object(a.jsxs)("div",{className:"form-group",children:[Boolean(n)&&Object(a.jsx)("label",{className:"col-form-label ".concat(b?"required":null),children:n}),Object(a.jsx)("br",{}),Object(a.jsx)(o.a,{className:"w-100",value:"multiple"===e.mode?S():B(),onChange:function(n){return"multiple"===e.mode?q(n):M(n)},onBlur:function(n){e.onBlur&&e.onBlur(n)},id:t,name:t,options:d,isMulti:"multiple"===f,placeholder:m||"",isClearable:p,styles:I,loadingMessage:function(){return Object(c.c)("autocomplete.loading")},noOptionsMessage:function(){return Object(c.c)("autocomplete.noOptions")}}),Object(a.jsx)("div",{className:"invalid-feedback",children:C}),Boolean(s)&&Object(a.jsx)("small",{className:"form-text text-muted",children:s})]})}s.defaultProps={required:!1,isClearable:!0},n.a=s},628:function(e,n,t){"use strict";t(694),t(146),t(695),t(659),t(38);var r=t(648),a=t(649),i=(t(22),t(653)),o=t(650),c=t(651),l=t(5),u=t.n(l),s=t(684),d=t(681),b=(t(121),t(698),t(619)),f=(t(675),t(699),t(683),t(700)),m=t(693);function p(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=Object(c.a)(e);if(n){var a=Object(c.a)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return Object(o.a)(this,t)}}l.Component;var j=Object(f.a)(b.a);n.a=j},648:function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}t.d(n,"a",(function(){return r}))},649:function(e,n,t){"use strict";function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}t.d(n,"a",(function(){return a}))},650:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var r=t(656),a=t(657);function i(e,n){return!n||"object"!==Object(r.a)(n)&&"function"!==typeof n?Object(a.a)(e):n}},651:function(e,n,t){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.d(n,"a",(function(){return r}))},653:function(e,n,t){"use strict";function r(e,n){return(r=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function a(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&r(e,n)}t.d(n,"a",(function(){return a}))},656:function(e,n,t){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.d(n,"a",(function(){return r}))},657:function(e,n,t){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(n,"a",(function(){return r}))},659:function(e,n,t){var r=t(660),a=t(661),i=t(696),o=t(662);e.exports=function(e){return r(e)||a(e)||i(e)||o()}},660:function(e,n,t){var r=t(697);e.exports=function(e){if(Array.isArray(e))return r(e)}},661:function(e,n){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},662:function(e,n){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},664:function(e,n,t){"use strict";var r,a=new Uint8Array(16);function i(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(a)}var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var c=function(e){return"string"===typeof e&&o.test(e)},l=[],u=0;u<256;++u)l.push((u+256).toString(16).substr(1));var s=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(l[e[n+0]]+l[e[n+1]]+l[e[n+2]]+l[e[n+3]]+"-"+l[e[n+4]]+l[e[n+5]]+"-"+l[e[n+6]]+l[e[n+7]]+"-"+l[e[n+8]]+l[e[n+9]]+"-"+l[e[n+10]]+l[e[n+11]]+l[e[n+12]]+l[e[n+13]]+l[e[n+14]]+l[e[n+15]]).toLowerCase();if(!c(t))throw TypeError("Stringified UUID is invalid");return t};n.a=function(e,n,t){var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){t=t||0;for(var a=0;a<16;++a)n[t+a]=r[a];return n}return s(r)}},666:function(e,n,t){"use strict";var r=t(1),a=t.n(r),i=t(19),o=t(3),c=t(145),l=t(11),u=t(5),s=t(623),d=t(6),b=t(2),f=t(127),m=t(128);function p(){var e=Object(f.a)(["\n  .img-card:hover .img-buttons {\n    display: block;\n  }\n\n  .img-buttons {\n    display: none;\n    position: relative;\n    bottom: 2.1rem;\n    width: calc(100px);\n    text-align: center;\n    background-color: rgba(0, 0, 0, 0.5);\n  }\n\n  .img-buttons * {\n    color: white;\n  }\n"]);return p=function(){return e},e}var j=m.a.div(p());function h(){var e=Object(f.a)(["\n  /* The Modal (background) */\n  .modal {\n    display: block;\n    position: fixed; /* Stay in place */\n    z-index: 9999; /* Sit on top */\n    padding-top: 100px; /* Location of the box */\n    left: 0;\n    top: 0;\n    width: 100%; /* Full width */\n    height: 100%; /* Full height */\n    overflow: auto; /* Enable scroll if needed */\n    background-color: rgb(0, 0, 0); /* Fallback color */\n    background-color: rgba(\n      0,\n      0,\n      0,\n      0.9\n    ); /* Black w/ opacity */\n  }\n\n  /* Modal Content (Image) */\n  .modal-content {\n    margin: auto;\n    display: block;\n    width: 80%;\n    max-width: 700px;\n  }\n\n  /* Caption of Modal Image (Image Text) - Same Width as the Image */\n  #caption {\n    margin: auto;\n    display: block;\n    width: 80%;\n    max-width: 700px;\n    text-align: center;\n    color: #ccc;\n    padding: 10px 0;\n    height: 150px;\n  }\n\n  /* Add Animation - Zoom in the Modal */\n  .modal-content,\n  #caption {\n    animation-name: zoom;\n    animation-duration: 0.6s;\n  }\n\n  @keyframes zoom {\n    from {\n      transform: scale(0);\n    }\n    to {\n      transform: scale(1);\n    }\n  }\n\n  /* The Close Button */\n  .close {\n    position: absolute;\n    top: 15px;\n    right: 35px;\n    color: #f1f1f1;\n    font-size: 40px;\n    font-weight: bold;\n    transition: 0.3s;\n  }\n\n  .close:hover,\n  .close:focus {\n    color: #bbb;\n    text-decoration: none;\n    cursor: pointer;\n  }\n\n  /* 100% Image Width on Smaller Screens */\n  @media only screen and (max-width: 700px) {\n    .modal-content {\n      width: 100%;\n    }\n  }\n"]);return h=function(){return e},e}var g=m.a.div(h());var x=function(e){return Object(l.jsx)(g,{children:Object(l.jsxs)("div",{className:"modal",children:[Object(l.jsx)("span",{className:"close",onClick:e.onClose,children:"\xd7"}),Object(l.jsx)("img",{className:"modal-content",src:e.src,alt:e.alt})]})})},v=t(607);n.a=function(e){var n=Object(u.useState)(!1),t=Object(c.a)(n,2),r=t[0],f=t[1],m=Object(u.useState)(null),p=Object(c.a)(m,2),h=p[0],g=p[1],O=Object(u.useRef)(),y=function(){var n=e.value;return n?Array.isArray(n)?n:[n]:[]},w=function(){var n=Object(o.a)(a.a.mark((function n(t){var r,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,(r=t.target.files)&&r.length){n.next=4;break}return n.abrupt("return");case 4:return o=r[0],s.a.validate(o,{storage:e.storage,image:!0}),f(!0),n.next=9,s.a.upload(o,{storage:e.storage,image:!0});case 9:o=n.sent,O.current.value="",f(!1),e.onChange([].concat(Object(i.a)(y()),[o])),n.next=21;break;case 15:n.prev=15,n.t0=n.catch(0),O.current.value="",console.error(n.t0),f(!1),d.a.showMessage(n.t0);case 21:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e){return n.apply(this,arguments)}}(),k=e.max,C=e.readonly,N=Object(l.jsxs)("label",{className:"btn btn-outline-secondary px-4 mb-2",style:{cursor:"pointer"},children:[Object(l.jsx)(v.a,{loading:r,iconClass:"fas fa-plus"})," ",Object(b.c)("fileUploader.upload"),Object(l.jsx)("input",{style:{display:"none"},disabled:r||C,accept:"image/*",type:"file",onChange:w,ref:O})]});return Object(l.jsxs)(j,{children:[C||k&&y().map((function(e){return{uid:e.id||void 0,name:e.name,status:"done",url:e.downloadUrl}})).length>=k?null:N,y()&&y().length?Object(l.jsx)("div",{className:"d-flex flex-row flex-wrap",children:y().map((function(n){return Object(l.jsxs)("div",{className:"mr-2 mb-2 img-card",style:{height:"100px"},children:[Object(l.jsx)("img",{alt:n.name,src:n.downloadUrl,className:"img-thumbnail",style:{width:"100px",height:"100px",objectFit:"cover"}}),Object(l.jsxs)("div",{className:"img-buttons rounded-bottom",children:[Object(l.jsx)("button",{type:"button",className:"btn btn-link",onClick:function(){return function(e){g({src:e.downloadUrl,alt:e.name})}(n)},children:Object(l.jsx)("i",{className:"fas fa-search"})}),!C&&Object(l.jsx)("button",{type:"button",className:"btn btn-link ml-2",onClick:function(){return t=n.id,void e.onChange(y().filter((function(e){return e.id!==t})));var t},children:Object(l.jsx)("i",{className:"fas fa-times"})})]})]},n.id)}))}):null,h&&Object(l.jsx)(x,{src:h.src,alt:h.alt,onClose:function(){g(null)}})]})}},677:function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,"a",(function(){return r}))},682:function(e,n,t){"use strict";var r=t(11),a=t(5),i=t(666),o=t(606),c=t(608);function l(e){var n=e.label,t=e.name,l=e.hint,u=e.storage,s=e.max,d=e.required,b=e.externalErrorMessage,f=Object(o.d)(),m=f.errors,p=f.formState,j=p.touched,h=p.isSubmitted,g=f.setValue,x=f.watch,v=f.register;Object(a.useEffect)((function(){v({name:t})}),[v,t]);var O=c.a.errorMessage(t,m,j,h,b);return Object(r.jsxs)("div",{className:"form-group",children:[Boolean(n)&&Object(r.jsx)("label",{className:"col-form-label ".concat(d?"required":null),htmlFor:t,children:n}),Object(r.jsx)("br",{}),Object(r.jsx)(i.a,{storage:u,value:x(t),onChange:function(n){g(t,n,{shouldValidate:!0}),e.onChange&&e.onChange(n)},max:s}),Object(r.jsx)("div",{className:"invalid-feedback",children:O}),Boolean(l)&&Object(r.jsx)("small",{className:"form-text text-muted",children:l})]})}l.defaultProps={max:void 0,required:!1},n.a=l},861:function(e,n,t){"use strict";t.r(n);var r=t(11),a=t(5),i=t(2),o=t(7),c=t(609),l=t(0),u=t(145),s=t(606),d=t(35),b=t(165),f=t(278),m=t(607),p=t(626),j=t(620),h=t(39),g={theme:[{id:"default",hex:"#1890ff"},{id:"light",hex:"#f8f9fa"},{id:"cyan",hex:"#13c2c2"},{id:"geek-blue",hex:"#2f54eb"},{id:"gold",hex:"#faad14"},{id:"lime",hex:"#a0d911"},{id:"magenta",hex:"#eb2f96"},{id:"orange",hex:"#fa8c16"},{id:"polar-green",hex:"#52c41a"},{id:"purple",hex:"#722ed1"},{id:"red",hex:"#f5222d"},{id:"volcano",hex:"#fa541c"},{id:"yellow",hex:"#fadb14"}]},x=t(682),v=t(265),O=t(616),y=t(618),w=h.e().shape({theme:h.h().transform((function(e,n){return""===n?null:e})).nullable(!0).trim().label(Object(i.c)("settings.fields.theme")).required(),logos:O.a.files(Object(i.c)("settings.fields.logos"),{max:1}),backgroundImages:O.a.files(Object(i.c)("settings.fields.backgroundImages"),{max:1})});var k=function(e){var n=Object(d.d)(),t=Object(d.e)(f.a.selectSaveLoading),o=e.settings,c=Object(a.useState)((function(){return Object(l.a)(Object(l.a)({},o||{}),{},{theme:o&&o.theme||"default"})})),h=Object(u.a)(c,1)[0],O=Object(s.c)({resolver:Object(y.yupResolver)(w),mode:"all",defaultValues:h}),k=function(e){n(b.a.doSave(e))};return Object(r.jsx)(j.a,{children:Object(r.jsx)(s.a,Object(l.a)(Object(l.a)({},O),{},{children:Object(r.jsxs)("form",{onSubmit:O.handleSubmit(k),children:[Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-lg-7 col-md-8 col-12",children:Object(r.jsx)(p.a,{name:"theme",label:Object(i.c)("settings.fields.theme"),options:g.theme.map((function(e){return{value:e.id,label:Object(i.c)("settings.colors.".concat(e.id))}})),required:!0})}),Object(r.jsx)("div",{className:"col-lg-7 col-md-8 col-12",children:Object(r.jsx)(x.a,{name:"logos",label:Object(i.c)("settings.fields.logos"),storage:v.a.values.settingsLogos,max:1})}),Object(r.jsx)("div",{className:"col-lg-7 col-md-8 col-12",children:Object(r.jsx)(x.a,{name:"backgroundImages",label:Object(i.c)("settings.fields.backgroundImages"),storage:v.a.values.settingsBackgroundImages,max:1})})]}),Object(r.jsxs)("div",{className:"form-buttons",children:[Object(r.jsxs)("button",{className:"btn btn-primary",disabled:t,type:"button",onClick:O.handleSubmit(k),children:[Object(r.jsx)(m.a,{loading:t,iconClass:"far fa-save"})," ",Object(i.c)("common.save")]}),Object(r.jsxs)("button",{disabled:t,onClick:function(){Object.keys(h).forEach((function(e){O.setValue(e,h[e])}))},className:"btn btn-light",type:"button",children:[Object(r.jsx)("i",{className:"fas fa-undo"})," ",Object(i.c)("common.reset")]}),e.onCancel?Object(r.jsxs)("button",{disabled:t,onClick:function(){return e.onCancel()},className:"btn btn-light",type:"button",children:[Object(r.jsx)("i",{className:"fas fa-times"})," ",Object(i.c)("common.cancel")]}):null]})]})}))})},C=t(84),N=t(85),S=t(621);var B=function(e){var n=Object(d.e)(C.a.selectPermissionToRead);return Object(r.jsx)(S.a,{style:{marginBottom:"16px"},children:n&&Object(r.jsx)(N.a,{to:"/audit-logs?entityNames=settings",children:Object(r.jsxs)("button",{className:"btn btn-light",type:"button",children:[Object(r.jsx)(m.a,{iconClass:"fas fa-history"})," ",Object(i.c)("auditLog.menu")]})})})},q=t(611),M=t(610),I=t(612);n.default=function(e){var n=Object(d.d)(),t=Object(d.e)(f.a.selectInitLoading),l=Object(d.e)(f.a.selectSettings);return Object(a.useEffect)((function(){n(b.a.doInit())}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(q.a,{items:[[Object(i.c)("dashboard.menu"),"/"],[Object(i.c)("settings.title")]]}),Object(r.jsxs)(c.a,{children:[Object(r.jsx)(M.a,{children:Object(i.c)("settings.title")}),Object(r.jsx)(B,{}),t&&Object(r.jsx)(I.a,{}),!t&&l&&Object(r.jsx)(k,{settings:l,onCancel:function(){return Object(o.b)().push("/")}})]})]})}}}]);
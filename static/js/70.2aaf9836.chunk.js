(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[70],{607:function(e,t,n){"use strict";var a=n(11);n(5);t.a=function(e){return e.loading?Object(a.jsx)("span",{className:"spinner-border spinner-border-sm"}):e.iconClass?Object(a.jsx)("i",{className:e.iconClass}):null}},609:function(e,t,n){"use strict";var a=n(127);function r(){var e=Object(a.a)(["\n  margin-top: 16px;\n  padding: 24px;\n  background-color: white;\n  width: 100%;\n  border-radius: 5px;\n  border: 1px solid #dee2e6 !important;\n"]);return r=function(){return e},e}var c=n(128).a.div(r());t.a=c},610:function(e,t,n){"use strict";var a=n(127);function r(){var e=Object(a.a)(["\n  margin-bottom: 24px;\n"]);return r=function(){return e},e}var c=n(128).a.h1(r());t.a=c},611:function(e,t,n){"use strict";var a=n(127),r=n(11),c=(n(5),n(85));function s(){var e=Object(a.a)(["\n  .breadcrumb {\n    font-size: 13px;\n    margin: 0px;\n    padding: 0px;\n    background-color: transparent;\n  }\n\n  .breadcrumb-item:not(.active) a {\n    color: rgba(0, 0, 0, 0.45);\n  }\n"]);return s=function(){return e},e}var o=n(128).a.nav(s());t.a=function(e){var t=function(e){return e.length>1};return Object(r.jsx)(o,{children:Object(r.jsx)("ol",{className:"breadcrumb",children:e.items.map((function(n,a){return Object(r.jsx)("li",{className:"breadcrumb-item ".concat(e.items.length-1===a?"active":""),children:t(n)?Object(r.jsx)(c.a,{to:n[1],children:n[0]}):n[0]},n[0])}))})})}},612:function(e,t,n){"use strict";var a=n(11);n(5);t.a=function(){return Object(a.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:Object(a.jsx)("div",{className:"spinner-border text-primary"})})}},614:function(e,t,n){"use strict";var a=n(25),r=n(30),c=n(36),s=n.n(c),o=n(5),i=n.n(o),l=n(37),u=["bsPrefix","className","noGutters","as"],d=["xl","lg","md","sm","xs"],b=i.a.forwardRef((function(e,t){var n=e.bsPrefix,c=e.className,o=e.noGutters,b=e.as,j=void 0===b?"div":b,m=Object(r.a)(e,u),f=Object(l.a)(n,"row"),v=f+"-cols",O=[];return d.forEach((function(e){var t,n=m[e];delete m[e];var a="xs"!==e?"-"+e:"";null!=(t=null!=n&&"object"===typeof n?n.cols:n)&&O.push(""+v+a+"-"+t)})),i.a.createElement(j,Object(a.a)({ref:t},m,{className:s.a.apply(void 0,[c,f,o&&"no-gutters"].concat(O))}))}));b.displayName="Row",b.defaultProps={noGutters:!1},t.a=b},615:function(e,t,n){"use strict";var a=n(25),r=n(30),c=n(36),s=n.n(c),o=n(5),i=n.n(o),l=n(37),u=["bsPrefix","className","as"],d=["xl","lg","md","sm","xs"],b=i.a.forwardRef((function(e,t){var n=e.bsPrefix,c=e.className,o=e.as,b=void 0===o?"div":o,j=Object(r.a)(e,u),m=Object(l.a)(n,"col"),f=[],v=[];return d.forEach((function(e){var t,n,a,r=j[e];if(delete j[e],"object"===typeof r&&null!=r){var c=r.span;t=void 0===c||c,n=r.offset,a=r.order}else t=r;var s="xs"!==e?"-"+e:"";t&&f.push(!0===t?""+m+s:""+m+s+"-"+t),null!=a&&v.push("order"+s+"-"+a),null!=n&&v.push("offset"+s+"-"+n)})),f.length||f.push(m),i.a.createElement(b,Object(a.a)({},j,{ref:t,className:s.a.apply(void 0,[c].concat(f,v))}))}));b.displayName="Col",t.a=b},617:function(e,t,n){"use strict";var a=n(11),r=n(5),c=n(121),s=n.n(c);t.a=function(e){var t=Object(r.useRef)();Object(r.useEffect)((function(){window.$(t.current).modal("show"),window.$(t.current).on("hidden.bs.modal",e.onClose)}),[]);return s.a.createPortal(Object(a.jsx)("div",{ref:t,className:"modal",tabIndex:-1,children:Object(a.jsx)("div",{className:"modal-dialog modal-sm",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h6",{className:"modal-title",style:{textAlign:"center"},children:e.title}),Object(a.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:Object(a.jsx)("span",{children:"\xd7"})})]}),Object(a.jsxs)("div",{className:"modal-footer",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-light btn-sm","data-dismiss":"modal",children:e.cancelText}),Object(a.jsx)("button",{type:"button",onClick:function(){return window.$(t.current).modal("hide"),e.onConfirm()},className:"btn btn-primary btn-sm",children:e.okText})]})]})})}),document.getElementById("modal-root"))}},621:function(e,t,n){"use strict";var a=n(127);function r(){var e=Object(a.a)(["\n  margin-bottom: 8px;\n\n  .btn {\n    margin-right: 8px;\n    margin-bottom: 8px;\n  }\n"]);return r=function(){return e},e}var c=n(128).a.div(r());t.a=c},622:function(e,t,n){"use strict";var a=n(4),r=n(29),c=n(57),s=n(129),o=Object(a.a)([r.a.selectCurrentTenant,r.a.selectCurrentUser],(function(e,t){return new c.a(e,t).match(s.a.values.userRead)})),i=Object(a.a)([r.a.selectCurrentTenant,r.a.selectCurrentUser],(function(e,t){return new c.a(e,t).match(s.a.values.userEdit)})),l=Object(a.a)([r.a.selectCurrentTenant,r.a.selectCurrentUser],(function(e,t){return new c.a(e,t).match(s.a.values.userDestroy)})),u={selectPermissionToRead:o,selectPermissionToEdit:i,selectPermissionToCreate:Object(a.a)([r.a.selectCurrentTenant,r.a.selectCurrentUser],(function(e,t){return new c.a(e,t).match(s.a.values.userCreate)})),selectPermissionToImport:Object(a.a)([r.a.selectCurrentTenant,r.a.selectCurrentUser],(function(e,t){return new c.a(e,t).match(s.a.values.userImport)})),selectPermissionToDestroy:l};t.a=u},627:function(e,t,n){"use strict";var a=n(127);function r(){var e=Object(a.a)(["\n  .btn.btn-link {\n    padding-left: 0;\n  }\n"]);return r=function(){return e},e}var c=n(128).a.div(r());t.a=c},655:function(e,t,n){"use strict";var a=n(11);n(5);t.a=function(e){if(!e.value&&0!==e.value&&!1!==e.value)return null;var t="".concat(e.prefix?"".concat(e.prefix," "):"").concat(e.value);return Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"col-form-label",children:e.label}),Object(a.jsx)("input",{type:"text",readOnly:!0,className:"form-control-plaintext",value:t})]})}},728:function(e,t,n){"use strict";var a=n(11),r=n(622),c=(n(5),n(35)),s=n(85);t.a=function(e){var t=Object(c.e)(r.a.selectPermissionToRead),n=function(){var t=e.value;return t?Array.isArray(t)?t:[t]:[]},o=function(e){return e?e.fullName?"".concat(e.fullName," <").concat(e.email,">"):e.email:null};return n().length?Object(a.jsxs)("div",{style:{marginBottom:"16px"},children:[Object(a.jsx)("label",{className:"col-form-label",children:e.label}),n().map((function(e){return n=e,t?Object(a.jsx)("div",{children:Object(a.jsx)(s.a,{className:"btn btn-link",to:"/user/".concat(n.id),children:o(n)})},n.id):Object(a.jsx)("div",{children:o(n)},n.id);var n}))]}):null}},736:function(e,t,n){"use strict";var a=n(4),r=n(29),c=n(57),s=n(129),o=Object(a.a)([r.a.selectCurrentTenant,r.a.selectCurrentUser],(function(e,t){return new c.a(e,t).match(s.a.values.votesRead)})),i=Object(a.a)([r.a.selectCurrentTenant,r.a.selectCurrentUser],(function(e,t){return new c.a(e,t).match(s.a.values.votesEdit)})),l=Object(a.a)([r.a.selectCurrentTenant,r.a.selectCurrentUser],(function(e,t){return new c.a(e,t).match(s.a.values.votesCreate)})),u=Object(a.a)([r.a.selectCurrentTenant,r.a.selectCurrentUser],(function(e,t){return new c.a(e,t).match(s.a.values.votesImport)})),d={selectPermissionToRead:o,selectPermissionToEdit:i,selectPermissionToCreate:l,selectPermissionToDestroy:Object(a.a)([r.a.selectCurrentTenant,r.a.selectCurrentUser],(function(e,t){return new c.a(e,t).match(s.a.values.votesDestroy)})),selectPermissionToImport:u};t.a=d},737:function(e,t,n){"use strict";var a=n(4),r={selectLoading:Object(a.a)([function(e){return e.votes.destroy}],(function(e){return Boolean(e.loading)}))};t.a=r},873:function(e,t,n){"use strict";n.r(t);var a=n(11),r=n(5),c=n(35),s=n(32),o=n(2),i=n(221),l=n(4),u=function(e){return e.votes.view},d=Object(l.a)([u],(function(e){return e.record})),b={selectLoading:Object(l.a)([u],(function(e){return Boolean(e.loading)})),selectRecord:d,selectRaw:u},j=n(612),m=n(627),f=n(655),v=n(728),O=n(614),x=n(615);var h=function(e){var t=e.record;return e.loading||!t?Object(a.jsx)(j.a,{}):Object(a.jsx)(m.a,{children:Object(a.jsxs)(O.a,{style:{backgroundColor:"#f0f2f5",paddingBottom:"10px"},children:[Object(a.jsx)(x.a,{sm:8,children:Object(a.jsx)(v.a,{label:Object(o.c)("entities.votes.fields.adherent"),value:t.adherent})}),Object(a.jsx)(x.a,{sm:4,children:Object(a.jsx)(f.a,{label:Object(o.c)("entities.votes.fields.votes"),value:t.votes})})]})})},p=n(145),g=n(85),C=n(84),y=n(736),N=n(149),w=n(737),T=n(617),P=n(621),R=n(607);var E=function(e){var t=Object(r.useState)(!1),n=Object(p.a)(t,2),s=n[0],i=n[1],l=Object(c.d)(),u=e.match.params.id,d=Object(c.e)(C.a.selectPermissionToRead),b=Object(c.e)(y.a.selectPermissionToEdit),j=Object(c.e)(y.a.selectPermissionToDestroy),m=Object(c.e)(w.a.selectLoading),f=function(){i(!1)};return Object(a.jsxs)(P.a,{children:[b&&Object(a.jsx)(g.a,{to:"/votes/".concat(u,"/edit"),children:Object(a.jsxs)("button",{className:"btn btn-primary",type:"button",children:[Object(a.jsx)(R.a,{iconClass:"fas fa-edit"})," ",Object(o.c)("common.edit")]})}),j&&Object(a.jsxs)("button",{className:"btn btn-primary",type:"button",disabled:m,onClick:function(){i(!0)},children:[Object(a.jsx)(R.a,{loading:m,iconClass:"fas fa-trash-alt"})," ",Object(o.c)("common.destroy")]}),d&&Object(a.jsx)(g.a,{to:"/audit-logs?entityId=".concat(encodeURIComponent(u)),children:Object(a.jsxs)("button",{className:"btn btn-light",type:"button",children:[Object(a.jsx)(R.a,{iconClass:"fas fa-history"})," ",Object(o.c)("auditLog.menu")]})}),s&&Object(a.jsx)(T.a,{title:Object(o.c)("common.areYouSure"),onConfirm:function(){return f(),void l(N.a.doDestroy(u))},onClose:function(){return f()},okText:Object(o.c)("common.yes"),cancelText:Object(o.c)("common.no")})]})},k=n(609),U=n(611),I=n(610);t.default=function(){var e=Object(c.d)(),t=Object(s.h)(),n=Object(c.e)(b.selectLoading),l=Object(c.e)(b.selectRecord);return Object(r.useEffect)((function(){e(i.a.doFind(t.params.id))}),[e,t.params.id]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(U.a,{items:[[Object(o.c)("dashboard.menu"),"/"],[Object(o.c)("entities.votes.menu")],[Object(o.c)("entities.votes.view.title")]]}),Object(a.jsxs)(k.a,{children:[Object(a.jsx)(I.a,{children:Object(o.c)("entities.votes.view.title")}),Object(a.jsx)(E,{match:t}),Object(a.jsx)(h,{loading:n,record:l})]})]})}}}]);